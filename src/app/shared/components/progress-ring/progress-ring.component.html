<div class="ring-wrapper" [class.selected]="selected()" (click)="onClick()">
  <svg viewBox="0 0 100 100" preserveAspectRatio="xMidYMid meet">
    <!-- Light base ring (always shown) -->
    <circle
      [attr.cx]="center"
      [attr.cy]="center"
      [attr.r]="radius"
      [attr.stroke]="baseRingColor()"
      [attr.stroke-width]="strokeWidth"
      fill="none"
    />

    <!-- Bold progress arc (only when NOT disabled) -->
    @if (!disabled()) {
    <circle
      [attr.cx]="center"
      [attr.cy]="center"
      [attr.r]="radius"
      [attr.stroke]="progressColor()"
      [attr.stroke-width]="strokeWidth"
      fill="none"
      stroke-linecap="round"
      [attr.stroke-dasharray]="dashArray()"
      stroke-dashoffset="0"
      transform="rotate(-90 50 50)"
    />
    }

    <!-- Center content: number or icon -->
    @if (isNumberLabel()) {
    <text
      x="50"
      y="54"
      text-anchor="middle"
      font-size="16"
      [attr.fill]="labelColor()"
      font-weight="bold"
    >
      {{ label() }}
    </text>
    } @else {
    <foreignObject x="35" y="35" width="30" height="30">
      <div class="icon-wrapper">
        <ion-icon [name]="label()" class="ring-icon"></ion-icon>
      </div>
    </foreignObject>
    }
  </svg>
</div>

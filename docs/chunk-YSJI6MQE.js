import{a as ct,e as Po,f as Eo,h as Io,s as Do,t as Ao}from"./chunk-K5US3PCO.js";import{m as So,n as nn}from"./chunk-JHCU2F56.js";import{b as ko,c as To}from"./chunk-Z7KG2CFB.js";import{$ as ho,A as en,B as le,D as io,E as R,G as ao,H as me,K as Ne,L as ke,M as ye,N as so,O as at,P as uo,Q as ve,R as lo,S as co,T as $,Ta as _o,U as Y,V as Q,W as fo,Wa as wo,X as Le,Xa as Co,Y as ae,Z as po,_ as mo,_a as Mo,a as Qn,aa as go,ba as yo,ca as K,da as he,db as Oo,ea as st,fa as tn,j as Jr,ka as ut,la as lt,n as eo,na as ge,pa as vo,qa as xo,s as De,u as to,v as no,w as Ae,wa as bo,x as ro,z as oo}from"./chunk-A75ZAIYH.js";import{a as Zn,e as ws,g as Cs}from"./chunk-CVT7ZQ5I.js";var No=ws((Ot,Jn)=>{"use strict";(function(e,t){typeof Ot=="object"&&typeof Jn=="object"?Jn.exports=t():typeof define=="function"&&define.amd?define([],t):typeof Ot=="object"?Ot.embed=t():e.embed=t()})(Ot,function(){return function(){"use strict";var e={8027:function(r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.WIDGET_ATTRIBUTE=n.SLIDER_WIDTH=n.SLIDER_POSITION=n.SLIDER_ATTRIBUTE=n.SIDETAB_ATTRIBUTE=n.POPUP_SIZE=n.POPUP_ATTRIBUTE=n.POPOVER_ATTRIBUTE=n.LIVE_EMBED_DATA_REGION_EU=n.LIVE_EMBED_DATA_REGION_ATTRIBUTE=n.LIVE_EMBED_ATTRIBUTE=n.DEFAULT_EU_DOMAIN=n.DEFAULT_DOMAIN=void 0,n.DEFAULT_DOMAIN="form.typeform.com",n.DEFAULT_EU_DOMAIN="form.typeform.eu",n.LIVE_EMBED_ATTRIBUTE="data-tf-live",n.LIVE_EMBED_DATA_REGION_ATTRIBUTE="data-tf-region",n.LIVE_EMBED_DATA_REGION_EU="eu",n.POPOVER_ATTRIBUTE="data-tf-popover",n.POPUP_ATTRIBUTE="data-tf-popup",n.POPUP_SIZE=100,n.SIDETAB_ATTRIBUTE="data-tf-sidetab",n.SLIDER_ATTRIBUTE="data-tf-slider",n.SLIDER_POSITION="right",n.SLIDER_WIDTH=800,n.WIDGET_ATTRIBUTE="data-tf-widget"},7528:function(r,n,o){var i=this&&this.__assign||function(){return i=Object.assign||function(d){for(var p,m=1,y=arguments.length;m<y;m++)for(var h in p=arguments[m])Object.prototype.hasOwnProperty.call(p,h)&&(d[h]=p[h]);return d},i.apply(this,arguments)},s=this&&this.__rest||function(d,p){var m={};for(var y in d)Object.prototype.hasOwnProperty.call(d,y)&&p.indexOf(y)<0&&(m[y]=d[y]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function"){var h=0;for(y=Object.getOwnPropertySymbols(d);h<y.length;h++)p.indexOf(y[h])<0&&Object.prototype.propertyIsEnumerable.call(d,y[h])&&(m[y[h]]=d[y[h]])}return m};Object.defineProperty(n,"__esModule",{value:!0}),n.createPopover=void 0;var u=o(6797),l=o(1320),a=function(d,p){var m=d.parentNode;m&&(m.removeChild(d),m.appendChild(p))},f=function(d,p){d===void 0&&(d="span"),p===void 0&&(p="tf-v1-popover-button-icon");var m=document.createElement(d);return m.className="".concat(p," tf-v1-close-icon"),m.innerHTML=u.closeIconSvg,m.dataset.testid=p,m},c={buttonColor:"#3a7685"};n.createPopover=function(d,p){p===void 0&&(p={});var m,y,h,v=i(i({},c),p),g=v.domain,x=s(v,["domain"]),T=(0,u.createIframe)("popover",{formId:d,domain:g,options:x}),D=T.iframe,b=T.embedId,w=T.refresh,C=T.focus,S=function(F,W){var V=document.createElement("div");return V.className="tf-v1-popover",V.dataset.testid="tf-v1-popover",(0,u.setElementSize)(V,{width:F,height:W})}(x.width,x.height),A=function(){var F=document.createElement("div");return F.className="tf-v1-popover-wrapper",F.dataset.testid="tf-v1-popover-wrapper",F}(),M=function(F,W){var V=(0,u.getTextColor)(W),X=document.createElement("div");X.className="tf-v1-popover-button-icon";var oe=(0,u.triggerIconSvg)(V),$e=F==null?void 0:F.startsWith("http");return X.innerHTML=$e?"<img alt='popover trigger icon button' src='".concat(F,"'/>"):F!=null?F:oe,X.dataset.testid="default-icon",X}(x.customIcon,x.buttonColor||c.buttonColor),I=function(){var F=document.createElement("div");F.className="tf-v1-spinner";var W=document.createElement("div");return W.className="tf-v1-popover-button-icon",W.dataset.testid="spinner-icon",W.append(F),W}(),O=f(),L=f("button","tf-v1-popover-close"),N=function(F,W){W===void 0&&(W={});var V=(0,u.getTextColor)(F),X=document.createElement("button");return X.className="tf-v1-popover-button",X.dataset.testid="tf-v1-popover-button",X.style.backgroundColor=F,X.style.color=V,(0,u.addAttributesToElement)(X,W),X}(x.buttonColor||c.buttonColor,x.buttonProps);(x.container||document.body).append(S),A.append(D),S.append(N),S.append(L),N.append(M);var P=function(){y&&y.parentNode&&(y.classList.add("closing"),setTimeout(function(){(0,u.unmountElement)(y)},250))};x.tooltip&&x.tooltip.length>0&&(y=function(F,W){var V=document.createElement("span");V.className="tf-v1-popover-tooltip-close",V.dataset.testid="tf-v1-popover-tooltip-close",V.innerHTML=u.closeIconSvg,V.onclick=W;var X=document.createElement("div");X.className="tf-v1-popover-tooltip-text",X.innerHTML=F;var oe=document.createElement("div");return oe.className="tf-v1-popover-tooltip",oe.dataset.testid="tf-v1-popover-tooltip",oe.appendChild(X),oe.appendChild(V),oe}(x.tooltip,P),S.append(y)),x.notificationDays&&(x.enableSandbox||(0,l.canBuildNotificationDot)(d))&&(h=(0,l.buildNotificationDot)(),N.append(h)),D.onload=function(F){F!=null&&F.isTrusted&&(S.classList.add("open"),A.style.opacity="1",L.style.opacity="1",a(I,O),(0,u.addCustomKeyboardListener)(U))};var E=function(){(0,u.isOpen)(A)||(P(),h&&(h.classList.add("closing"),x.notificationDays&&!x.enableSandbox&&(0,l.saveNotificationDotHideUntilTime)(d,x.notificationDays),setTimeout(function(){(0,u.unmountElement)(h)},250)),setTimeout(function(){(0,u.isInPage)(A)?(A.style.opacity="0",L.style.opacity="0",A.style.display="flex",setTimeout(function(){S.classList.add("open"),A.style.opacity="1",L.style.opacity="1"}),a(M,O)):(S.append(A),a(M,I),A.style.opacity="0",L.style.opacity="0")}))},U=function(){var F;(0,u.isOpen)(S)&&((0,u.handlePreventReopenOnClose)(x,d),(F=p.onClose)===null||F===void 0||F.call(p),setTimeout(function(){x.keepSession?A.style.display="none":(0,u.unmountElement)(A),S.classList.remove("open"),a(O,M)},250))};(0,u.setAutoClose)(b,x.autoClose,U);var H=function(){(0,u.isOpen)(A)?U():E()};return N.onclick=(0,u.invokeWithoutDefault)(H),L.onclick=(0,u.invokeWithoutDefault)(U),x.open&&!(0,u.isOpen)(A)&&(m=(0,u.handleCustomOpen)(E,x,d)),{open:E,close:U,toggle:H,refresh:w,focus:C,unmount:function(){(0,u.unmountElement)(S),x.open&&(m!=null&&m.remove)&&m.remove()}}}},1797:function(r,n,o){var i=this&&this.__createBinding||(Object.create?function(u,l,a,f){f===void 0&&(f=a);var c=Object.getOwnPropertyDescriptor(l,a);c&&!("get"in c?!l.__esModule:c.writable||c.configurable)||(c={enumerable:!0,get:function(){return l[a]}}),Object.defineProperty(u,f,c)}:function(u,l,a,f){f===void 0&&(f=a),u[f]=l[a]}),s=this&&this.__exportStar||function(u,l){for(var a in u)a==="default"||Object.prototype.hasOwnProperty.call(l,a)||i(l,u,a)};Object.defineProperty(n,"__esModule",{value:!0}),s(o(7528),n),s(o(6100),n)},1320:function(r,n){var o=this&&this.__assign||function(){return o=Object.assign||function(l){for(var a,f=1,c=arguments.length;f<c;f++)for(var d in a=arguments[f])Object.prototype.hasOwnProperty.call(a,d)&&(l[d]=a[d]);return l},o.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.buildNotificationDot=n.canBuildNotificationDot=n.saveNotificationDotHideUntilTime=void 0;var i="tfNotificationData",s=function(){var l=localStorage.getItem(i);return l?JSON.parse(l):{}},u=function(l){l&&localStorage.setItem(i,JSON.stringify(l))};n.saveNotificationDotHideUntilTime=function(l,a){var f,c=new Date;c.setDate(c.getDate()+a),u(o(o({},s()),((f={})[l]={hideUntilTime:c.getTime()},f)))},n.canBuildNotificationDot=function(l){var a=function(f){var c;return((c=s()[f])===null||c===void 0?void 0:c.hideUntilTime)||0}(l);return new Date().getTime()>a&&(a&&function(f){var c=s();delete c[f],u(c)}(l),!0)},n.buildNotificationDot=function(){var l=document.createElement("span");return l.className="tf-v1-popover-unread-dot",l.dataset.testid="tf-v1-popover-unread-dot",l}},6100:function(r,n){Object.defineProperty(n,"__esModule",{value:!0})},9630:function(r,n,o){var i=this&&this.__rest||function(a,f){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&f.indexOf(d)<0&&(c[d]=a[d]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function"){var p=0;for(d=Object.getOwnPropertySymbols(a);p<d.length;p++)f.indexOf(d[p])<0&&Object.prototype.propertyIsEnumerable.call(a,d[p])&&(c[d[p]]=a[d[p]])}return c};Object.defineProperty(n,"__esModule",{value:!0}),n.createPopup=void 0;var s=o(6797),u=o(8027),l=o(6797);n.createPopup=function(a,f){if(f===void 0&&(f={}),!(0,s.hasDom)())return{open:function(){},close:function(){},toggle:function(){},refresh:function(){},focus:function(){},unmount:function(){}};var c,d=f.width,p=f.height,m=f.size,y=m===void 0?u.POPUP_SIZE:m,h=f.onClose,v=f.domain,g=i(f,["width","height","size","onClose","domain"]),x=(0,s.createIframe)("popup",{formId:a,domain:v,options:g}),T=x.iframe,D=x.embedId,b=x.refresh,w=x.focus,C=document.body.style.overflow,S=function(){var P=document.createElement("div");return P.className="tf-v1-popup",P.dataset.testid="tf-v1-popup",P.style.opacity="0",P}(),A=function(){var P=document.createElement("div");return P.className="tf-v1-spinner",P}(),M=function(P,E,U){var H=document.createElement("div");return H.className="tf-v1-iframe-wrapper",H.style.opacity="0",(0,s.isDefined)(P)&&(0,s.isDefined)(E)?(0,s.setElementSize)(H,{width:P,height:E}):(H.style.width="calc(".concat(U,"% - 80px)"),H.style.height="calc(".concat(U,"% - 80px)"),H)}(d,p,y);M.append(T),S.append(A),S.append(M);var I=g.container||document.body;T.onload=function(P){P!=null&&P.isTrusted&&(M.style.opacity="1",setTimeout(function(){A.style.display="none"},250),(0,s.addCustomKeyboardListener)(L))};var O=function(){(0,l.isOpen)(S)||((0,l.isInPage)(S)?S.style.display="flex":(A.style.display="block",I.append(S)),document.body.style.overflow="hidden",setTimeout(function(){S.style.opacity="1"}))},L=function(){(0,l.isOpen)(S)&&((0,s.handlePreventReopenOnClose)(g,a),h==null||h(),S.style.opacity="0",document.body.style.overflow=C,setTimeout(function(){g.keepSession?S.style.display="none":N()},250))};M.append(function(P){var E=document.createElement("button");return E.className="tf-v1-close tf-v1-close-icon",E.innerHTML=s.closeIconSvg,E.ariaLabel="Close",E.onclick=(0,s.invokeWithoutDefault)(P),E}(L)),(0,s.setAutoClose)(D,g.autoClose,L),g.open&&!(0,l.isOpen)(S)&&(c=(0,s.handleCustomOpen)(O,g,a));var N=function(){(0,s.unmountElement)(S),g.open&&(c!=null&&c.remove)&&c.remove()};return{open:O,close:L,toggle:function(){(0,l.isOpen)(S)?L():O()},refresh:b,focus:w,unmount:N}}},5970:function(r,n,o){var i=this&&this.__createBinding||(Object.create?function(u,l,a,f){f===void 0&&(f=a);var c=Object.getOwnPropertyDescriptor(l,a);c&&!("get"in c?!l.__esModule:c.writable||c.configurable)||(c={enumerable:!0,get:function(){return l[a]}}),Object.defineProperty(u,f,c)}:function(u,l,a,f){f===void 0&&(f=a),u[f]=l[a]}),s=this&&this.__exportStar||function(u,l){for(var a in u)a==="default"||Object.prototype.hasOwnProperty.call(l,a)||i(l,u,a)};Object.defineProperty(n,"__esModule",{value:!0}),s(o(9630),n),s(o(7394),n)},7394:function(r,n){Object.defineProperty(n,"__esModule",{value:!0})},382:function(r,n,o){var i=this&&this.__assign||function(){return i=Object.assign||function(c){for(var d,p=1,m=arguments.length;p<m;p++)for(var y in d=arguments[p])Object.prototype.hasOwnProperty.call(d,y)&&(c[y]=d[y]);return c},i.apply(this,arguments)},s=this&&this.__rest||function(c,d){var p={};for(var m in c)Object.prototype.hasOwnProperty.call(c,m)&&d.indexOf(m)<0&&(p[m]=c[m]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function"){var y=0;for(m=Object.getOwnPropertySymbols(c);y<m.length;y++)d.indexOf(m[y])<0&&Object.prototype.propertyIsEnumerable.call(c,m[y])&&(p[m[y]]=c[m[y]])}return p};Object.defineProperty(n,"__esModule",{value:!0}),n.createSidetab=void 0;var u=o(6797),l={buttonColor:"#3a7685",buttonText:"Launch me"},a=function(c,d){c===void 0&&(c="div"),d===void 0&&(d="tf-v1-sidetab-button-icon");var p=document.createElement(c);return p.className="".concat(d," tf-v1-close-icon"),p.innerHTML=u.closeIconSvg,p.dataset.testid=d,p},f=function(c,d){var p=c.parentNode;p&&(p.removeChild(c),p.appendChild(d))};n.createSidetab=function(c,d){d===void 0&&(d={});var p,m=i(i({},l),d),y=m.domain,h=s(m,["domain"]),v=(0,u.createIframe)("side-tab",{formId:c,domain:y,options:h}),g=v.iframe,x=v.embedId,T=v.refresh,D=v.focus,b=function(E,U,H,F){var W=document.createElement("div");return W.className="tf-v1-sidetab",W.dataset.testid="tf-v1-sidetab",(0,u.setElementSize)(W,{width:E,height:U}),H!==void 0?(W.style.top="calc(".concat((0,u.getValueWithUnits)(H)," + ").concat((0,u.getValueWithUnits)(U||580)," / 2)"),W.style.bottom="auto"):F!==void 0&&(W.style.top="auto",W.style.bottom="calc(".concat((0,u.getValueWithUnits)(F)," - ").concat((0,u.getValueWithUnits)(U||580)," / 2)")),W}(h.width,h.height,h.top,h.bottom),w=function(){var E=document.createElement("div");return E.className="tf-v1-sidetab-wrapper",E.dataset.testid="tf-v1-sidetab-wrapper",E}(),C=function(){var E=document.createElement("div");E.className="tf-v1-spinner";var U=document.createElement("div");return U.className="tf-v1-sidetab-button-icon",U.dataset.testid="spinner-icon",U.append(E),U}(),S=function(E){var U=E.backgroundColor,H=E.textColor,F=E.width,W=E.height,V=E.align,X=V===void 0?"center":V,oe=E.buttonProps,$e=oe===void 0?{}:oe,ie=document.createElement("button");return ie.className="tf-v1-sidetab-button",ie.style.backgroundColor=U,ie.style.color=H||(0,u.getTextColor)(U),(0,u.addAttributesToElement)(ie,$e),(0,u.setElementSize)(ie,{width:F,height:W}),W&&(ie.style.left="-".concat((0,u.getValueWithUnits)(W))),X==="top"?(ie.style.transform="rotate(-90deg) translateX(-100%)",ie.style.top="0"):X==="bottom"&&(ie.style.transform="rotate(-90deg) translateX(0)",ie.style.top="auto",ie.style.bottom="-".concat((0,u.getValueWithUnits)(W||48))),ie}({backgroundColor:h.buttonColor||l.buttonColor,textColor:h.buttonTextColor,width:h.buttonHeight,height:h.buttonWidth,align:h.buttonAlign,buttonProps:h.buttonProps}),A=function(E,U){var H=document.createElement("span");return H.className="tf-v1-sidetab-button-text",H.innerHTML=E,U&&(H.style.fontSize=(0,u.getValueWithUnits)(U)),H}(h.buttonText||l.buttonText,h.buttonTextSize),M=function(E,U,H,F){var W=H||(0,u.getTextColor)(U),V=document.createElement("div");V.className="tf-v1-sidetab-button-icon",F&&(V.style.width=(0,u.getValueWithUnits)(F),V.style.height=(0,u.getValueWithUnits)(F));var X=(0,u.triggerIconSvg)(W),oe=E==null?void 0:E.startsWith("http");return V.innerHTML=oe?"<img alt='popover trigger icon button' src='".concat(E,"'/>"):E!=null?E:X,V.dataset.testid="default-icon",V}(h.customIcon,h.buttonColor||l.buttonColor,h.buttonTextColor,h.buttonTextSize),I=a(),O=a("button","tf-v1-sidetab-close");(h.container||document.body).append(b),w.append(g),b.append(S),b.append(O),S.append(M),S.append(A),setTimeout(function(){b.classList.add("ready")},250),g.onload=function(E){E!=null&&E.isTrusted&&(b.classList.add("open"),f(C,I),(0,u.addCustomKeyboardListener)(N))};var L=function(){(0,u.isOpen)(w)||((0,u.isInPage)(w)?(w.style.display="flex",b.classList.add("open"),f(M,I)):(b.append(w),f(M,C)))},N=function(){var E;(0,u.isOpen)(w)&&((0,u.handlePreventReopenOnClose)(h,c),(E=h.onClose)===null||E===void 0||E.call(h),b.classList.remove("open"),setTimeout(function(){h.keepSession?w.style.display="none":(0,u.unmountElement)(w),f(I,M)},250))};(0,u.setAutoClose)(x,h.autoClose,N);var P=function(){(0,u.isOpen)(w)?N():L()};return S.onclick=(0,u.invokeWithoutDefault)(P),O.onclick=(0,u.invokeWithoutDefault)(N),h.open&&!(0,u.isOpen)(w)&&(p=(0,u.handleCustomOpen)(L,h,c)),{open:L,close:N,toggle:P,refresh:T,focus:D,unmount:function(){(0,u.unmountElement)(b),h.open&&(p!=null&&p.remove)&&p.remove()}}}},1434:function(r,n,o){var i=this&&this.__createBinding||(Object.create?function(u,l,a,f){f===void 0&&(f=a);var c=Object.getOwnPropertyDescriptor(l,a);c&&!("get"in c?!l.__esModule:c.writable||c.configurable)||(c={enumerable:!0,get:function(){return l[a]}}),Object.defineProperty(u,f,c)}:function(u,l,a,f){f===void 0&&(f=a),u[f]=l[a]}),s=this&&this.__exportStar||function(u,l){for(var a in u)a==="default"||Object.prototype.hasOwnProperty.call(l,a)||i(l,u,a)};Object.defineProperty(n,"__esModule",{value:!0}),s(o(382),n),s(o(7668),n)},7668:function(r,n){Object.defineProperty(n,"__esModule",{value:!0})},2603:function(r,n,o){var i=this&&this.__rest||function(l,a){var f={};for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&a.indexOf(c)<0&&(f[c]=l[c]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function"){var d=0;for(c=Object.getOwnPropertySymbols(l);d<c.length;d++)a.indexOf(c[d])<0&&Object.prototype.propertyIsEnumerable.call(l,c[d])&&(f[c[d]]=l[c[d]])}return f};Object.defineProperty(n,"__esModule",{value:!0}),n.createSlider=void 0;var s=o(6797),u=o(8027);n.createSlider=function(l,a){if(a===void 0&&(a={}),!(0,s.hasDom)())return{open:function(){},close:function(){},toggle:function(){},refresh:function(){},focus:function(){},unmount:function(){}};var f,c=a.position,d=c===void 0?u.SLIDER_POSITION:c,p=a.width,m=p===void 0?u.SLIDER_WIDTH:p,y=a.onClose,h=a.domain,v=i(a,["position","width","onClose","domain"]),g=(0,s.createIframe)("slider",{formId:l,domain:h,options:v}),x=g.iframe,T=g.embedId,D=g.refresh,b=g.focus,w=document.body.style.overflow,C=function(N){var P=document.createElement("div");return P.className="tf-v1-slider ".concat(N),P.dataset.testid="tf-v1-slider",P.style.opacity="0",P}(d),S=function(){var N=document.createElement("div");return N.className="tf-v1-spinner",N}(),A=function(N,P){var E=document.createElement("div");return E.className="tf-v1-iframe-wrapper",E.style[N]="-100%",(0,s.setElementSize)(E,{width:P})}(d,m);A.append(x),C.append(S),C.append(A);var M=v.container||document.body;x.onload=function(N){N!=null&&N.isTrusted&&(A.style[d]="0",setTimeout(function(){S.style.display="none"},500),(0,s.addCustomKeyboardListener)(O))};var I=function(){(0,s.isOpen)(C)||((0,s.isInPage)(C)?(C.style.display="flex",setTimeout(function(){A.style[d]="0"})):(M.append(C),S.style.display="block"),document.body.style.overflow="hidden",setTimeout(function(){C.style.opacity="1"}))},O=function(){(0,s.isOpen)(C)&&((0,s.handlePreventReopenOnClose)(v,l),y==null||y(),C.style.opacity="0",A.style[d]="-100%",document.body.style.overflow=w,setTimeout(function(){v.keepSession?C.style.display="none":L()},500))};(0,s.setAutoClose)(T,v.autoClose,O),A.append(function(N){var P=document.createElement("button");return P.className="tf-v1-close tf-v1-close-icon",P.innerHTML=s.closeIconSvg,P.ariaLabel="Close",P.onclick=(0,s.invokeWithoutDefault)(N),P}(O)),v.open&&!(0,s.isOpen)(C)&&(f=(0,s.handleCustomOpen)(I,v,l));var L=function(){(0,s.unmountElement)(C),v.open&&(f!=null&&f.remove)&&f.remove()};return{open:I,close:O,toggle:function(){(0,s.isOpen)(C)?O():I()},refresh:D,focus:b,unmount:L}}},4071:function(r,n,o){var i=this&&this.__createBinding||(Object.create?function(u,l,a,f){f===void 0&&(f=a);var c=Object.getOwnPropertyDescriptor(l,a);c&&!("get"in c?!l.__esModule:c.writable||c.configurable)||(c={enumerable:!0,get:function(){return l[a]}}),Object.defineProperty(u,f,c)}:function(u,l,a,f){f===void 0&&(f=a),u[f]=l[a]}),s=this&&this.__exportStar||function(u,l){for(var a in u)a==="default"||Object.prototype.hasOwnProperty.call(l,a)||i(l,u,a)};Object.defineProperty(n,"__esModule",{value:!0}),s(o(2603),n),s(o(3162),n)},3162:function(r,n){Object.defineProperty(n,"__esModule",{value:!0})},718:function(r,n,o){var i=this&&this.__rest||function(c,d){var p={};for(var m in c)Object.prototype.hasOwnProperty.call(c,m)&&d.indexOf(m)<0&&(p[m]=c[m]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function"){var y=0;for(m=Object.getOwnPropertySymbols(c);y<m.length;y++)d.indexOf(m[y])<0&&Object.prototype.propertyIsEnumerable.call(c,m[y])&&(p[m[y]]=c[m[y]])}return p},s=this&&this.__read||function(c,d){var p=typeof Symbol=="function"&&c[Symbol.iterator];if(!p)return c;var m,y,h=p.call(c),v=[];try{for(;(d===void 0||d-- >0)&&!(m=h.next()).done;)v.push(m.value)}catch(g){y={error:g}}finally{try{m&&!m.done&&(p=h.return)&&p.call(h)}finally{if(y)throw y.error}}return v};Object.defineProperty(n,"__esModule",{value:!0}),n.createWidget=void 0;var u=o(6797),l=o(8554),a=o(2313),f=o(1126);n.createWidget=function(c,d){if(!(0,u.hasDom)())return{refresh:function(){},focus:function(){},unmount:function(){}};var p=d.domain,m=i(d,["domain"]);m.inlineOnMobile=d.inlineOnMobile||d.fullScreen;var y=document.body.style.overflow;m.inlineOnMobile||!m.forceTouch&&!(0,u.isFullscreen)()||(m.displayAsFullScreenModal=!0,m.forceTouch=!0,m.autoResize=!1);var h=(0,u.createIframe)("widget",{formId:c,domain:p,options:m}),v=h.embedId,g=h.iframe,x=h.refresh,T=h.focus,D=(0,a.buildWidget)(g,m.width,m.height);if(m.fullScreen&&(0,f.overrideFullScreenStyles)(d.container,g),m.autoResize){var b=s(typeof m.autoResize=="string"?m.autoResize.split(",").map(function(N){return parseInt(N)}):[],2),w=b[0],C=b[1];window.addEventListener("message",(0,l.getFormHeightChangedHandler)(v,function(N){var P=Math.max(N.height,w||0);C&&(P=Math.min(P,C)),d.container.style.height="".concat(P,"px")}))}m.autoFocus&&window.addEventListener("message",(0,l.getFormReadyHandler)(v,function(){setTimeout(function(){T()},1e3)}));var S,A=function(){return d.container.append(D)};if(d.container.innerHTML="",d.lazy?(0,u.lazyInitialize)(d.container,A):A(),m.displayAsFullScreenModal){var M="",I=d.container,O=I.style.height;window.addEventListener("message",(0,l.getWelcomeScreenHiddenHandler)(v,function(){I.classList.add("tf-v1-widget-fullscreen"),d.opacity!==void 0&&(I.style.backgroundColor=M)})),window.addEventListener("message",(0,l.getFormThemeHandler)(v,function(N){var P;M=(0,u.changeColorOpacity)((P=N==null?void 0:N.theme)===null||P===void 0?void 0:P.backgroundColor)}));var L=((S=document.createElement("button")).className="tf-v1-widget-close tf-v1-close-icon",S.innerHTML="&times;",S.ariaLabel="Close",S);L.onclick=(0,u.invokeWithoutDefault)(function(){var N;if(I.style.height=O,(N=d.onClose)===null||N===void 0||N.call(d),I.classList.remove("tf-v1-widget-fullscreen"),I.style.backgroundColor="",m.fullScreen&&(document.body.style.overflow=y),d.keepSession){var P=document.createElement("div");P.className="tf-v1-widget-iframe-overlay",P.onclick=function(){I.classList.add("tf-v1-widget-fullscreen"),(0,u.unmountElement)(P)},D.append(P)}else d.container.innerHTML="",A(),I.append(L)}),I.append(L)}return{refresh:x,focus:T,unmount:function(){(0,u.unmountElement)(D)}}}},1419:function(r,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.buildWidget=void 0;var i=o(6797);n.buildWidget=function(s,u,l){var a=document.createElement("div");return a.className="tf-v1-widget",a.dataset.testid="tf-v1-widget",a.append(s),(0,i.setElementSize)(a,{width:u,height:l})}},2313:function(r,n,o){var i=this&&this.__createBinding||(Object.create?function(u,l,a,f){f===void 0&&(f=a);var c=Object.getOwnPropertyDescriptor(l,a);c&&!("get"in c?!l.__esModule:c.writable||c.configurable)||(c={enumerable:!0,get:function(){return l[a]}}),Object.defineProperty(u,f,c)}:function(u,l,a,f){f===void 0&&(f=a),u[f]=l[a]}),s=this&&this.__exportStar||function(u,l){for(var a in u)a==="default"||Object.prototype.hasOwnProperty.call(l,a)||i(l,u,a)};Object.defineProperty(n,"__esModule",{value:!0}),s(o(1419),n)},1126:function(r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.overrideFullScreenStyles=void 0,n.overrideFullScreenStyles=function(o,i){Object.assign(o.style,{zIndex:"10001",position:"absolute",top:"0",left:"0",width:"100%",height:"100%"}),i.style.borderRadius="0",Object.assign(document.body.style,{overflow:"hidden"})}},9321:function(r,n,o){var i=this&&this.__createBinding||(Object.create?function(u,l,a,f){f===void 0&&(f=a);var c=Object.getOwnPropertyDescriptor(l,a);c&&!("get"in c?!l.__esModule:c.writable||c.configurable)||(c={enumerable:!0,get:function(){return l[a]}}),Object.defineProperty(u,f,c)}:function(u,l,a,f){f===void 0&&(f=a),u[f]=l[a]}),s=this&&this.__exportStar||function(u,l){for(var a in u)a==="default"||Object.prototype.hasOwnProperty.call(l,a)||i(l,u,a)};Object.defineProperty(n,"__esModule",{value:!0}),s(o(718),n),s(o(4058),n)},4058:function(r,n){Object.defineProperty(n,"__esModule",{value:!0})},1920:function(r,n,o){var i=this&&this.__createBinding||(Object.create?function(u,l,a,f){f===void 0&&(f=a);var c=Object.getOwnPropertyDescriptor(l,a);c&&!("get"in c?!l.__esModule:c.writable||c.configurable)||(c={enumerable:!0,get:function(){return l[a]}}),Object.defineProperty(u,f,c)}:function(u,l,a,f){f===void 0&&(f=a),u[f]=l[a]}),s=this&&this.__exportStar||function(u,l){for(var a in u)a==="default"||Object.prototype.hasOwnProperty.call(l,a)||i(l,u,a)};Object.defineProperty(n,"__esModule",{value:!0}),s(o(1797),n),s(o(5970),n),s(o(4071),n),s(o(9321),n),s(o(1434),n)},5084:function(r,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.addAttributesToElement=void 0;var i=o(7377);n.addAttributesToElement=function(s,u){u===void 0&&(u={}),Object.keys(u).forEach(function(l){s.setAttribute((0,i.camelCaseToKebabCase)(l),u[l])})}},3626:function(r,n,o){var i=this&&this.__assign||function(){return i=Object.assign||function(p){for(var m,y=1,h=arguments.length;y<h;y++)for(var v in m=arguments[y])Object.prototype.hasOwnProperty.call(m,v)&&(p[v]=m[v]);return p},i.apply(this,arguments)},s=this&&this.__read||function(p,m){var y=typeof Symbol=="function"&&p[Symbol.iterator];if(!y)return p;var h,v,g=y.call(p),x=[];try{for(;(m===void 0||m-- >0)&&!(h=g.next()).done;)x.push(h.value)}catch(T){v={error:T}}finally{try{h&&!h.done&&(y=g.return)&&y.call(g)}finally{if(v)throw v.error}}return x};Object.defineProperty(n,"__esModule",{value:!0}),n.buildIframeSrc=void 0;var u=o(8027),l=o(4527),a=o(2346),f=o(2698),c=o(863),d={widget:"embed-widget",popup:"popup-blank",slider:"popup-drawer",popover:"popup-popover","side-tab":"popup-side-panel"};n.buildIframeSrc=function(p){var m=p.domain,y=p.formId,h=p.type,v=p.embedId,g=p.options,x=function(b,w,C){var S=C.transitiveSearchParams,A=C.source,M=C.medium,I=C.mediumVersion,O=C.hideFooter,L=C.hideHeaders,N=C.opacity,P=C.disableTracking,E=C.enableSandbox,U=C.shareGaInstance,H=C.forceTouch,F=C.displayAsFullScreenModal,W=C.tracking,V=C.redirectTarget,X=C.autoResize,oe=C.disableScroll,$e=C.onEndingButtonClick,ie=C.noHeading,Xn=C.noScrollbars,Kn=(0,f.getTransitiveSearchParams)(S);return i(i(i({},{"typeform-embed-id":w,"typeform-embed":d[b],"typeform-source":A,"typeform-medium":M,"typeform-medium-version":I,"embed-hide-footer":O?"true":void 0,"embed-hide-headers":L?"true":void 0,"embed-opacity":N,"disable-tracking":P||E?"true":void 0,"__dangerous-disable-submissions":E?"true":void 0,"share-ga-instance":U?"true":void 0,"force-touch":H?"true":void 0,"add-placeholder-ws":b==="widget"&&F?"true":void 0,"typeform-embed-redirect-target":V,"typeform-embed-handles-redirect":1,"typeform-embed-auto-resize":X?"true":void 0,"typeform-embed-disable-scroll":oe?"true":void 0,"typeform-embed-handle-ending-button-click":$e?"true":void 0,"typeform-embed-no-heading":ie?"true":void 0,"typeform-embed-no-scrollbars":Xn?"true":void 0}),Kn),W)}(h,v,function(b){return b.noHeading||(b.noHeading=document.querySelectorAll("h1").length>0),i(i({},{source:(w=window==null?void 0:window.location)===null||w===void 0?void 0:w.hostname.replace(/^www\./,""),medium:"embed-sdk",mediumVersion:"next"}),(0,l.removeUndefinedKeys)(b));var w}(g)),T=function(b,w,C){if(w===void 0&&(w=u.DEFAULT_DOMAIN),b.startsWith("http://")||b.startsWith("https://"))return new URL(b);var S=w!==u.DEFAULT_DOMAIN?w:function(A){return A==="eu"?u.DEFAULT_EU_DOMAIN:u.DEFAULT_DOMAIN}(C);return new URL("https://".concat(S,"/to/").concat(b))}(y,m,g==null?void 0:g.region);if(Object.entries(x).filter(function(b){var w=s(b,2)[1];return(0,a.isDefined)(w)}).forEach(function(b){var w=s(b,2),C=w[0],S=w[1];T.searchParams.set(C,S)}),g.hubspot){var D=(0,c.getHubspotHiddenFields)();g.hidden=i(i({},g.hidden),D)}return T.hash=function(b,w){var C=new URLSearchParams;w.hidden&&Object.entries(w.hidden).filter(function(I){var O=s(I,2)[1];return(0,a.isDefined)(O)&&O!==""}).forEach(function(I){var O=s(I,2),L=O[0],N=O[1];typeof w.transitiveSearchParams=="boolean"&&b.searchParams.delete(L),C.set(L,N)});var S=function(I){if(!I)return null;var O=Object.keys(I).at(0),L=O&&I[O]||void 0;return O===void 0||L===void 0?null:{key:"answers-".concat(O),value:L}}(w.preselect);if(S){var A=S.key,M=S.value;C.set(A,M)}return C.toString()}(T,g),T.href}},2391:function(r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.changeColorOpacity=void 0,n.changeColorOpacity=function(o,i){return o===void 0&&(o=""),i===void 0&&(i=255),o.startsWith("rgba(")?o==null?void 0:o.replace(/, [\d.]+\)$/,", ".concat(i,")")):o}},6289:function(r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.closeIconSvg=void 0,n.closeIconSvg=`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M4.293 4.293a1 1 0 0 1 1.414 0L12 10.586l6.293-6.293a1 1 0 1 1 1.414 1.414L13.414 12l6.293 6.293a1 1 0 0 1-1.414 1.414L12 13.414l-6.293 6.293a1 1 0 0 1-1.414-1.414L10.586 12 4.293 5.707a1 1 0 0 1 0-1.414Z" fill="currentColor"/>
</svg>`},8972:function(r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.handleCustomOpen=n.handlePreventReopenOnClose=void 0;var o={remove:function(){}};n.handlePreventReopenOnClose=function(u,l){u.preventReopenOnClose&&s(l)},n.handleCustomOpen=function(u,l,a){var f=l.open,c=l.openValue,d=l.preventReopenOnClose,p=function(m,y,h,v){return function(){var g,x;if(!(v&&i(y)||h==="all"&&(x=document.querySelector(".tf-v1-popup, .tf-v1-slider, .tf-v1-popover-wrapper, .tf-v1-sidetab-wrapper"),(x==null?void 0:x.offsetHeight)||(x==null?void 0:x.offsetWidth)||((g=x==null?void 0:x.getClientRects())===null||g===void 0?void 0:g.length))||h==="same"&&function(T){var D=document.querySelectorAll(".tf-v1-popup, .tf-v1-slider, .tf-v1-popover-wrapper, .tf-v1-sidetab-wrapper");return Array.from(D).some(function(b){var w,C=(w=b.querySelector("iframe"))===null||w===void 0?void 0:w.src;return(C==null?void 0:C.includes("typeform.com/to/".concat(T)))||(C==null?void 0:C.startsWith(T))})}(y)))return m()}}(u,a,l.respectOpenModals,d);switch(f){case"load":return p(),o;case"exit":return c?function(m,y){var h=0,v=function(g){g.clientY<m&&g.clientY<h?(document.removeEventListener("mousemove",v,!0),y()):h=g.clientY};return document.addEventListener("mousemove",v,!0),{remove:function(){return document.removeEventListener("mousemove",v,!0)}}}(c,p):o;case"time":return setTimeout(function(){p()},c),o;case"scroll":return c?function(m,y){function h(){var v=window.pageYOffset||document.documentElement.scrollTop,g=document.documentElement.clientTop||0,x=document.documentElement.scrollHeight,T=v-g,D=T/x*100,b=T+window.innerHeight>=x;(D>=m||b)&&(y(),document.removeEventListener("scroll",h))}return document.addEventListener("scroll",h),{remove:function(){return document.removeEventListener("scroll",h)}}}(c,p):o;default:return o}};var i=function(u){return document.cookie.includes("tf-".concat(u,"-closed=true"))},s=function(u){document.cookie="tf-".concat(u,"-closed=true;Path=/")}},1553:function(r,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.createIframe=void 0;var i=o(3626),s=o(6797),u=o(8866),l=o(8554),a=o(2256),f=o(7144),c=o(5511);n.createIframe=function(d,p){var m=p.formId,y=p.domain,h=p.options,v=(0,u.generateEmbedId)(),g=h.iframeProps,x=g===void 0?{}:g,T=h.onReady,D=h.onStarted,b=h.onQuestionChanged,w=h.onHeightChanged,C=h.onSubmit,S=h.onEndingButtonClick,A=h.onDuplicateDetected,M=h.shareGaInstance,I=(0,i.buildIframeSrc)({formId:m,domain:y,embedId:v,type:d,options:h}),O=document.createElement("iframe");return O.src=I,O.dataset.testid="iframe",O.style.border="0px",O.allow="microphone; camera",(0,s.addAttributesToElement)(O,x),O.addEventListener("load",a.triggerIframeRedraw,{once:!0}),window.addEventListener("message",(0,l.getFormReadyHandler)(v,T)),window.addEventListener("message",(0,l.getFormStartedHandler)(v,D)),window.addEventListener("message",(0,l.getFormQuestionChangedHandler)(v,b)),window.addEventListener("message",(0,l.getFormHeightChangedHandler)(v,w)),window.addEventListener("message",(0,l.getFormSubmitHandler)(v,C)),window.addEventListener("message",(0,l.getFormThemeHandler)(v,function(L){var N;if(L!=null&&L.theme){var P=document.querySelector(".tf-v1-close-icon");P&&(P.style.color=(N=L.theme)===null||N===void 0?void 0:N.color)}})),window.addEventListener("message",(0,l.getThankYouScreenButtonClickHandler)(v,S)),window.addEventListener("message",(0,l.getRedirectHandler)(v,O)),window.addEventListener("message",(0,l.getDuplicateDetectedHandler)(v,A)),d!=="widget"&&window.addEventListener("message",f.dispatchCustomKeyEventFromIframe),M&&window.addEventListener("message",(0,l.getFormReadyHandler)(v,function(){(0,s.setupGaInstance)(O,v,M)})),{iframe:O,embedId:v,refresh:function(){return(0,c.refreshIframe)(O)},focus:function(){var L;(L=O.contentWindow)===null||L===void 0||L.postMessage("embed-focus","*")}}}},8866:function(r,n){var o=this&&this.__read||function(i,s){var u=typeof Symbol=="function"&&i[Symbol.iterator];if(!u)return i;var l,a,f=u.call(i),c=[];try{for(;(s===void 0||s-- >0)&&!(l=f.next()).done;)c.push(l.value)}catch(d){a={error:d}}finally{try{l&&!l.done&&(u=f.return)&&u.call(f)}finally{if(a)throw a.error}}return c};Object.defineProperty(n,"__esModule",{value:!0}),n.generateEmbedId=void 0,n.generateEmbedId=function(){var i=Math.random();return o(String(i).split("."),2)[1]}},8554:function(r,n,o){var i=this&&this.__rest||function(a,f){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&f.indexOf(d)<0&&(c[d]=a[d]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function"){var p=0;for(d=Object.getOwnPropertySymbols(a);p<d.length;p++)f.indexOf(d[p])<0&&Object.prototype.propertyIsEnumerable.call(a,d[p])&&(c[d[p]]=a[d[p]])}return c};Object.defineProperty(n,"__esModule",{value:!0}),n.getRedirectHandler=n.getThankYouScreenButtonClickHandler=n.getFormThemeHandler=n.getWelcomeScreenHiddenHandler=n.getDuplicateDetectedHandler=n.getFormSubmitHandler=n.getFormHeightChangedHandler=n.getFormQuestionChangedHandler=n.getFormStartedHandler=n.getFormReadyHandler=void 0;var s=o(8743);n.getFormReadyHandler=function(a,f){return l("form-ready",a,f)},n.getFormStartedHandler=function(a,f){return l("form-started",a,f)},n.getFormQuestionChangedHandler=function(a,f){return l("form-screen-changed",a,f)},n.getFormHeightChangedHandler=function(a,f){return l("form-height-changed",a,f)},n.getFormSubmitHandler=function(a,f){return l("form-submit",a,f)},n.getDuplicateDetectedHandler=function(a,f){return l("duplicate-detected",a,f)},n.getWelcomeScreenHiddenHandler=function(a,f){return l("welcome-screen-hidden",a,f)},n.getFormThemeHandler=function(a,f){return l("form-theme",a,f)},n.getThankYouScreenButtonClickHandler=function(a,f){return l("thank-you-screen-button-click",a,f)},n.getRedirectHandler=function(a,f){return l(["redirect-after-submit","thank-you-screen-redirect"],a,(0,s.handleFormRedirect)(f))};var u=function(a,f){return Array.isArray(a)?a.includes(f):a===f};function l(a,f,c){return function(d){var p=d.data,m=p.type,y=p.embedId,h=i(p,["type","embedId"]);u(a,m)&&y===f&&(c==null||c(h))}}},8743:function(r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.handleFormRedirect=void 0,n.handleFormRedirect=function(o){return function(i){var s,u,l=i.url,a=i.target;if(l)switch(a===void 0?"_parent":a){case"_self":o.src=(s=o.src,(u=l).includes("#")&&u.startsWith("".concat(s,"#"))?u.includes("?")?u.replace("#","&tf-embed-ts=".concat(Date.now(),"#")):u.replace("#","?tf-embed-ts=".concat(Date.now(),"#")):u);break;case"_blank":window.open(l,"_blank");break;case"_top":var f=document.createElement("a");f.href=l,f.target="_top",document.body.appendChild(f),f.click(),document.body.removeChild(f);break;default:window.location.href=l}else console.error("Redirect failed, no URL provided")}}},339:function(r,n,o){var i=this&&this.__createBinding||(Object.create?function(u,l,a,f){f===void 0&&(f=a);var c=Object.getOwnPropertyDescriptor(l,a);c&&!("get"in c?!l.__esModule:c.writable||c.configurable)||(c={enumerable:!0,get:function(){return l[a]}}),Object.defineProperty(u,f,c)}:function(u,l,a,f){f===void 0&&(f=a),u[f]=l[a]}),s=this&&this.__exportStar||function(u,l){for(var a in u)a==="default"||Object.prototype.hasOwnProperty.call(l,a)||i(l,u,a)};Object.defineProperty(n,"__esModule",{value:!0}),s(o(1553),n),s(o(7144),n)},5511:function(r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.refreshIframe=void 0,n.refreshIframe=function(o){if(o){var i=o.src;if(i.includes("&refresh")){var s=i.split("&refresh#");o.src=s.join("#")}else(s=i.split("#"))[0]="".concat(s[0],"&refresh"),o.src=s.join("#")}}},7144:function(r,n){var o=this&&this.__awaiter||function(l,a,f,c){return new(f||(f=Promise))(function(d,p){function m(v){try{h(c.next(v))}catch(g){p(g)}}function y(v){try{h(c.throw(v))}catch(g){p(g)}}function h(v){var g;v.done?d(v.value):(g=v.value,g instanceof f?g:new f(function(x){x(g)})).then(m,y)}h((c=c.apply(l,a||[])).next())})},i=this&&this.__generator||function(l,a){var f,c,d,p,m={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return p={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function y(h){return function(v){return function(g){if(f)throw new TypeError("Generator is already executing.");for(;p&&(p=0,g[0]&&(m=0)),m;)try{if(f=1,c&&(d=2&g[0]?c.return:g[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,g[1])).done)return d;switch(c=0,d&&(g=[2&g[0],d.value]),g[0]){case 0:case 1:d=g;break;case 4:return m.label++,{value:g[1],done:!1};case 5:m.label++,c=g[1],g=[0];continue;case 7:g=m.ops.pop(),m.trys.pop();continue;default:if(!((d=(d=m.trys).length>0&&d[d.length-1])||g[0]!==6&&g[0]!==2)){m=0;continue}if(g[0]===3&&(!d||g[1]>d[0]&&g[1]<d[3])){m.label=g[1];break}if(g[0]===6&&m.label<d[1]){m.label=d[1],d=g;break}if(d&&m.label<d[2]){m.label=d[2],m.ops.push(g);break}d[2]&&m.ops.pop(),m.trys.pop();continue}g=a.call(l,m)}catch(x){g=[6,x],c=0}finally{f=d=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([h,v])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.dispatchCustomKeyEventFromIframe=n.removeCustomKeyboardListener=n.addCustomKeyboardListener=void 0;var s="Escape",u=function(l,a){return o(void 0,void 0,void 0,function(){return i(this,function(f){return l.code===s&&typeof a=="function"&&(a(),(0,n.removeCustomKeyboardListener)()),[2]})})};n.addCustomKeyboardListener=function(l){return window.document.addEventListener("keydown",function(a){return u(a,l)})},n.removeCustomKeyboardListener=function(){return window.document.removeEventListener("keydown",u)},n.dispatchCustomKeyEventFromIframe=function(l){l.data.type==="form-close"&&window.document.dispatchEvent(new KeyboardEvent("keydown",{code:s}))}},2256:function(r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.triggerIframeRedraw=void 0,n.triggerIframeRedraw=function(){this.style.transform="translateZ(0)"}},8939:function(r,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.getTextColor=void 0;var i=o(2938);n.getTextColor=function(s){if(!s)return"#FFFFFF";var u=s.startsWith("#")?(0,i.hexRgb)(s):function(c){var d={red:0,green:0,blue:0},p=c.match(/\d+/g);return p&&(d.red=parseInt(p[0],10),d.green=parseInt(p[0],10),d.blue=parseInt(p[0],10)),d}(s),l=u.red,a=u.green,f=u.blue;return Math.round((299*l+587*a+114*f)/1e3)>150?"#000000":"#FFFFFF"}},2698:function(r,n){var o=this&&this.__assign||function(){return o=Object.assign||function(i){for(var s,u=1,l=arguments.length;u<l;u++)for(var a in s=arguments[u])Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a]);return i},o.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.getTransitiveSearchParams=void 0,n.getTransitiveSearchParams=function(i){var s=new URL(window.location.href);return typeof i=="boolean"&&i?Object.fromEntries(s.searchParams.entries()):Array.isArray(i)&&i.length>0?i.reduce(function(u,l){var a,f=s.searchParams.get(l);return f?o(o({},u),((a={})[l]=f,a)):u},{}):{}}},8252:function(r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hasDom=void 0,n.hasDom=function(){return typeof document<"u"&&typeof window<"u"}},2938:function(r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hexRgb=void 0;var o="a-f\\d",i="#?[".concat(o,"]{3}[").concat(o,"]?"),s="#?[".concat(o,"]{6}([").concat(o,"]{2})?"),u=new RegExp("[^#".concat(o,"]"),"gi"),l=new RegExp("^".concat(i,"$|^").concat(s,"$"),"i");n.hexRgb=function(a){if(typeof a!="string"||u.test(a)||!l.test(a))throw new TypeError("Expected a valid hex string");(a=a.replace(/^#/,"")).length===8&&(a=a.slice(0,6)),a.length===4&&(a=a.slice(0,3)),a.length===3&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]);var f=Number.parseInt(a,16);return{red:f>>16,green:f>>8&255,blue:255&f}}},863:function(r,n,o){var i=this&&this.__awaiter||function(l,a,f,c){return new(f||(f=Promise))(function(d,p){function m(v){try{h(c.next(v))}catch(g){p(g)}}function y(v){try{h(c.throw(v))}catch(g){p(g)}}function h(v){var g;v.done?d(v.value):(g=v.value,g instanceof f?g:new f(function(x){x(g)})).then(m,y)}h((c=c.apply(l,a||[])).next())})},s=this&&this.__generator||function(l,a){var f,c,d,p,m={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return p={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function y(h){return function(v){return function(g){if(f)throw new TypeError("Generator is already executing.");for(;p&&(p=0,g[0]&&(m=0)),m;)try{if(f=1,c&&(d=2&g[0]?c.return:g[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,g[1])).done)return d;switch(c=0,d&&(g=[2&g[0],d.value]),g[0]){case 0:case 1:d=g;break;case 4:return m.label++,{value:g[1],done:!1};case 5:m.label++,c=g[1],g=[0];continue;case 7:g=m.ops.pop(),m.trys.pop();continue;default:if(!((d=(d=m.trys).length>0&&d[d.length-1])||g[0]!==6&&g[0]!==2)){m=0;continue}if(g[0]===3&&(!d||g[1]>d[0]&&g[1]<d[3])){m.label=g[1];break}if(g[0]===6&&m.label<d[1]){m.label=d[1],d=g;break}if(d&&m.label<d[2]){m.label=d[2],m.ops.push(g);break}d[2]&&m.ops.pop(),m.trys.pop();continue}g=a.call(l,m)}catch(x){g=[6,x],c=0}finally{f=d=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([h,v])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.waitForHubspotCookie=n.getHubspotHiddenFields=n.getHubspotCookieValue=void 0;var u=o(4623);n.getHubspotCookieValue=function(){var l=document.cookie.match(new RegExp("(^| )".concat("hubspotutk","=([^;]+)")));return l&&l[2]||void 0},n.getHubspotHiddenFields=function(){return{hubspot_page_name:document.title,hubspot_page_url:window.location.href,hubspot_utk:(0,n.getHubspotCookieValue)()}},n.waitForHubspotCookie=function(){return i(void 0,void 0,void 0,function(){var l,a;return s(this,function(f){switch(f.label){case 0:l=10,a=0,f.label=1;case 1:return!(0,n.getHubspotCookieValue)()&&a<l?[4,(0,u.sleep)(250)]:[3,4];case 2:f.sent(),f.label=3;case 3:return a++,[3,1];case 4:return[2]}})})}},9071:function(r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.includeCss=void 0,n.includeCss=function(o){var i=function(u){return"".concat("https://embed.typeform.com/next/css/").concat(u)}(o);if(!document.querySelector('link[href="'.concat(i,'"]'))){var s=document.createElement("link");s.rel="stylesheet",s.href=i,document.head.append(s)}}},6797:function(r,n,o){var i=this&&this.__createBinding||(Object.create?function(u,l,a,f){f===void 0&&(f=a);var c=Object.getOwnPropertyDescriptor(l,a);c&&!("get"in c?!l.__esModule:c.writable||c.configurable)||(c={enumerable:!0,get:function(){return l[a]}}),Object.defineProperty(u,f,c)}:function(u,l,a,f){f===void 0&&(f=a),u[f]=l[a]}),s=this&&this.__exportStar||function(u,l){for(var a in u)a==="default"||Object.prototype.hasOwnProperty.call(l,a)||i(l,u,a)};Object.defineProperty(n,"__esModule",{value:!0}),s(o(3626),n),s(o(339),n),s(o(8252),n),s(o(9071),n),s(o(2346),n),s(o(7377),n),s(o(6563),n),s(o(4527),n),s(o(9533),n),s(o(1451),n),s(o(8972),n),s(o(4748),n),s(o(4392),n),s(o(8939),n),s(o(9917),n),s(o(1987),n),s(o(2391),n),s(o(863),n),s(o(6890),n),s(o(5084),n),s(o(6289),n),s(o(9832),n)},6890:function(r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.invokeWithoutDefault=void 0,n.invokeWithoutDefault=function(o){return function(i){i==null||i.preventDefault(),o()}}},2346:function(r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isDefined=void 0,n.isDefined=function(o){return o!=null}},1987:function(r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isVisible=n.isInPage=n.isOpen=void 0,n.isOpen=function(o){return(0,n.isInPage)(o)&&(0,n.isVisible)(o)},n.isInPage=function(o){return!!o.parentNode},n.isVisible=function(o){return o.style.display!=="none"}},9917:function(r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.lazyInitialize=void 0,n.lazyInitialize=function(o,i){var s=new IntersectionObserver(function(u){u.forEach(function(l){l.isIntersecting&&(i(),s.unobserve(l.target))})});s.observe(o)}},7377:function(r,n){var o=this&&this.__assign||function(){return o=Object.assign||function(c){for(var d,p=1,m=arguments.length;p<m;p++)for(var y in d=arguments[p])Object.prototype.hasOwnProperty.call(d,y)&&(c[y]=d[y]);return c},o.apply(this,arguments)},i=this&&this.__read||function(c,d){var p=typeof Symbol=="function"&&c[Symbol.iterator];if(!p)return c;var m,y,h=p.call(c),v=[];try{for(;(d===void 0||d-- >0)&&!(m=h.next()).done;)v.push(m.value)}catch(g){y={error:g}}finally{try{m&&!m.done&&(p=h.return)&&p.call(h)}finally{if(y)throw y.error}}return v};Object.defineProperty(n,"__esModule",{value:!0}),n.loadOptionsFromAttributes=n.transformAttributeValue=n.camelCaseToKebabCase=void 0,n.camelCaseToKebabCase=function(c){return c.split("").map(function(d,p){return d.toUpperCase()===d?"".concat(p!==0?"-":"").concat(d.toLowerCase()):d}).join("")};var s=function(c){return c||void 0},u=function(c){if(c!==null)return c===""||c==="yes"||c==="true"},l=function(c){var d=c?parseInt(c,10):NaN;return isNaN(d)?void 0:d},a="%ESCAPED_COMMA%",f=function(c){if(c)return c.replace(/\s/g,"").replace(/\\,/g,a).split(",").filter(function(d){return!!d}).map(function(d){return d.replace(a,",")})};n.transformAttributeValue=function(c,d){var p,m,y;switch(d){case"string":return s(c);case"boolean":return u(c);case"integer":return l(c);case"function":return function(h){var v=h&&h in window?window[h]:void 0;return typeof v=="function"?v:void 0}(c);case"array":return f(c);case"record":return function(h){if(h)return h.replace(/\\,/g,a).split(",").filter(function(v){return!!v}).map(function(v){return v.replace(a,",")}).reduce(function(v,g){var x,T=g.match(/^([^=]+)=(.*)$/);if(T){var D=i(T,3),b=D[1],w=D[2];return o(o({},v),((x={})[b.trim()]=w,x))}return v},{})}(c);case"integerOrString":return function(h){if(h)return h.match(/^[0-9]+$/)?l(h):s(h)}(c);case"integerOrBoolean":return(p=l(c))!==null&&p!==void 0?p:u(c);case"stringOrBoolean":return(m=s(c))!==null&&m!==void 0?m:u(c);case"arrayOrBoolean":return(y=f(c))!==null&&y!==void 0?y:u(c);default:throw new Error("Invalid attribute transformation ".concat(d))}},n.loadOptionsFromAttributes=function(c,d){return Object.keys(d).reduce(function(p,m){var y;return o(o({},p),((y={})[m]=(0,n.transformAttributeValue)(c.getAttribute("data-tf-".concat((0,n.camelCaseToKebabCase)(m))),d[m]),y))},{})}},6563:function(r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isFullscreen=n.isMobile=n.isBigScreen=void 0,n.isBigScreen=function(){return window.screen.width>=1024&&window.screen.height>=768},n.isMobile=function(){return/mobile|tablet|android/i.test(navigator.userAgent.toLowerCase())},n.isFullscreen=function(){return(0,n.isMobile)()&&!(0,n.isBigScreen)()}},4527:function(r,n,o){var i=this&&this.__assign||function(){return i=Object.assign||function(l){for(var a,f=1,c=arguments.length;f<c;f++)for(var d in a=arguments[f])Object.prototype.hasOwnProperty.call(a,d)&&(l[d]=a[d]);return l},i.apply(this,arguments)},s=this&&this.__read||function(l,a){var f=typeof Symbol=="function"&&l[Symbol.iterator];if(!f)return l;var c,d,p=f.call(l),m=[];try{for(;(a===void 0||a-- >0)&&!(c=p.next()).done;)m.push(c.value)}catch(y){d={error:y}}finally{try{c&&!c.done&&(f=p.return)&&f.call(p)}finally{if(d)throw d.error}}return m};Object.defineProperty(n,"__esModule",{value:!0}),n.removeUndefinedKeys=void 0;var u=o(2346);n.removeUndefinedKeys=function(l){return Object.entries(l).filter(function(a){var f=s(a,2)[1];return(0,u.isDefined)(f)}).reduce(function(a,f){var c,d=s(f,2),p=d[0],m=d[1];return i(i({},a),((c={})[p]=m,c))},{})}},4748:function(r,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.setAutoClose=n.DEFAULT_AUTO_CLOSE_TIME=void 0;var i=o(8554);n.DEFAULT_AUTO_CLOSE_TIME=500,n.setAutoClose=function(s,u,l){u&&l&&window.addEventListener("message",(0,i.getFormSubmitHandler)(s,function(){return setTimeout(l,(f=typeof(a=u)=="number"?a:0,Math.max(f,n.DEFAULT_AUTO_CLOSE_TIME)));var a,f}))}},9533:function(r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.setElementSize=n.getValueWithUnits=void 0,n.getValueWithUnits=function(o){return typeof o!="string"||o.match(/^[0-9]+$/)?"".concat(o,"px"):o},n.setElementSize=function(o,i){var s=i.width,u=i.height;return s&&(o.style.width=(0,n.getValueWithUnits)(s)),u&&(o.style.height=(0,n.getValueWithUnits)(u)),o}},4392:function(r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.setupGaInstance=n.sendGaIdMessage=void 0,n.sendGaIdMessage=function(s,u,l){var a={embedId:s,gaClientId:u};setTimeout(function(){l&&l.contentWindow&&l.contentWindow.postMessage({type:"ga-client-id",data:a},"*")},0)};var o=function(s){console.error(s)},i=function(s){o("Whoops! You enabled the shareGaInstance feature in your typeform embed but ".concat(s,`.

`)+`Make sure to include Google Analytics Javascript code before the Typeform Embed Javascript code in your page and use correct tracker ID.

It is also possible the Google Analytics was blocked by your adblock plugin.`)};n.setupGaInstance=function(s,u,l){var a=typeof l=="string"?l:void 0;if(window.gtag){if(a||(a=function(){if(window.dataLayer){var d=window.dataLayer.find(function(p){return p.length>1&&p[0]==="config"});return d&&d[1]}}()),!a)return void i("the tracking ID could not be retrieved");var f=!1;window.gtag("get",a,"client_id",function(d){f=!0,(0,n.sendGaIdMessage)(u,d,s)}),setTimeout(function(){f||i("the tracker with ID ".concat(a," was not found"))},3e3)}else try{var c=function(d,p){return p?d.find(function(m){return m.get("trackingId")===p}):d[0]}(window.ga.getAll(),a);c?(0,n.sendGaIdMessage)(u,c.get("clientId"),s):i("the tracker with ID ".concat(a," was not found"))}catch(d){i("the Google Analytics object was not found"),o(d)}}},4623:function(r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.sleep=void 0,n.sleep=function(o){return new Promise(function(i){return setTimeout(i,o)})}},9832:function(r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.triggerIconSvg=void 0,n.triggerIconSvg=function(o){return`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M2.002 5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6.697l-5.748 3.832A1 1 0 0 1 6.002 22v-3h-2a2 2 0 0 1-2-2V5Zm18 0h-16v12h3a1 1 0 0 1 1 1v2.131l4.445-2.963a1 1 0 0 1 .555-.168h7V5Z"
      fill=`.concat(o,`
    />
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M7.5 12.25a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5Zm4.5 0a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5Zm4.5 0a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5Z"
      fill=`).concat(o,`
    />
  </svg>`)}},1451:function(r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.unmountElement=void 0,n.unmountElement=function(o){var i;(i=o.parentNode)===null||i===void 0||i.removeChild(o)}}},t={};return function r(n){var o=t[n];if(o!==void 0)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}(1920)}()})});var Lo=Cs(No());var Ms=["typeformContainer"];function Os(e,t){if(e&1&&($(0,"div",2)(1,"h2"),K(2,"Submission Received"),Y(),$(3,"pre"),K(4),ut(5,"json"),Y()()),e&2){let r=ae();R(4),he(lt(5,1,r.submittedAnswers))}}var ks=(()=>{let t=class t{constructor(){this.formId=le.required(),this.userId=le(),this.typeformContainerRef=ao("typeformContainer"),this.typeformService=De(So)}ngAfterViewInit(){this.loadSurvey()}loadSurvey(){var s;let n=this.formId(),o=(s=this.userId)==null?void 0:s.call(this),i=this.typeformContainerRef();if(!n||!i){console.warn("Missing form ID or container element");return}(0,Lo.createWidget)(n,{container:i.nativeElement,onSubmit:()=>{console.log("Typeform submitted!"),o&&this.typeformService.getSubmittedResponse(o).subscribe({next:u=>{console.log("Received data from backend:",u),this.submittedAnswers=u},error:u=>{console.error("Failed to fetch response:",u)}})},hidden:o?{userId:o}:void 0,hideHeaders:!0,hideFooter:!0,opacity:100,transitiveSearchParams:!0,autoResize:!0}),setTimeout(()=>{let u=i.nativeElement.querySelector("iframe");u?(u.style.height="60vh",u.style.width="100%",u.style.position="static",u.style.display="block",u.style.margin="0 auto"):console.warn("iframe not found for post-style patching")})}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=me({type:t,selectors:[["app-survey"]],viewQuery:function(o,i){o&1&&go(i.typeformContainerRef,Ms,5),o&2&&yo()},inputs:{formId:[1,"formId"],userId:[1,"userId"]},decls:3,vars:1,consts:[["typeformContainer",""],[1,"typeform-wrapper"],[1,"result-box"]],template:function(o,i){o&1&&(Q(0,"div",1,0),Ne(2,Os,6,3,"div",2)),o&2&&(R(2),ve(i.submittedAnswers?2:-1))},dependencies:[xo,vo],styles:["[_nghost-%COMP%]{display:block;width:100%;height:65vh}.typeform-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;display:flex;justify-content:center;align-items:center;margin:0 auto}.typeform-wrapper[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%!important;height:100%!important;border:none!important;display:block!important;margin:0 auto!important;position:static!important}.result-box[_ngcontent-%COMP%]{padding:16px;background:#f1f1f1;margin-top:20px;text-align:center}@media (max-width: 768px){.typeform-wrapper[_ngcontent-%COMP%]{padding:0 10px}}"]});let e=t;return e})();var Ts=(()=>{let t=class t{constructor(){this.progress=le(0),this.description=le("Description"),this.disabled=le(!1),this.colors=ge(()=>this.progressColorsService.getColors(this.progress(),this.disabled())),this.normalizedProgress=ge(()=>Math.min(Math.max(this.progress()/100,0),1)),this.displayValue=ge(()=>this.disabled()?"...":this.progress().toString()),this.progressColorsService=De(nn)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=me({type:t,selectors:[["app-score-progress-bar"]],inputs:{progress:[1,"progress"],description:[1,"description"],disabled:[1,"disabled"]},decls:11,vars:7,consts:[[1,"score-progress-bar"],[1,"score-header-row"],[1,"label"],[1,"score-value"],[1,"score-bar",3,"value"],[1,"score-subtext"]],template:function(o,i){o&1&&($(0,"div",0)(1,"ion-text")(2,"div",1)(3,"p",2),K(4,"Overall score"),Y(),$(5,"p",3),K(6),Y()()(),Q(7,"ion-progress-bar",4),$(8,"ion-text")(9,"p",5),K(10),Y()()()),o&2&&(R(6),he(i.displayValue()),R(),so("--progress-background",i.colors().progress)("--buffer-background",i.colors().background),ye("value",i.normalizedProgress()),R(3),he(i.description()))},dependencies:[Mo,Oo],styles:[".score-progress-bar[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;margin:20px}.score-progress-bar[_ngcontent-%COMP%]   .score-header-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.score-progress-bar[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;margin:0}.score-progress-bar[_ngcontent-%COMP%]   .score-value[_ngcontent-%COMP%]{font-size:28px;font-weight:600;margin:0}.score-progress-bar[_ngcontent-%COMP%]   .score-bar[_ngcontent-%COMP%]{height:8px}.score-progress-bar[_ngcontent-%COMP%]   .score-bar[_ngcontent-%COMP%]::part(track){background:var(--buffer-background, #e0e0e0)}.score-progress-bar[_ngcontent-%COMP%]   .score-bar[_ngcontent-%COMP%]::part(progress){background:var(--progress-background, #2196f3)}.score-progress-bar[_ngcontent-%COMP%]   .score-subtext[_ngcontent-%COMP%]{font-size:12px;opacity:.6;margin:0}"]});let e=t;return e})();var Ss=(e,t)=>t.date;function Ps(e,t){e&1&&(Ae(),$(0,"svg",16),Q(1,"line",19)(2,"line",20),Y())}function Es(e,t){if(e&1&&Q(0,"hugeicons-icon",21),e&2){let r=ae(3);ye("icon",r.Tick01Icon)("size",16)("strokeWidth",1.5)}}function Is(e,t){if(e&1&&($(0,"div",22),Q(1,"hugeicons-icon",21),$(2,"span",23),K(3),Y()()),e&2){let r=ae(3);R(),ye("icon",r.FireIcon)("size",16)("strokeWidth",1.5),R(2),he(r.getCurrentStreakCount())}}function Ds(e,t){if(e&1&&($(0,"div",17),Ne(1,Es,1,3,"hugeicons-icon",21)(2,Is,4,4,"div",22),Y()),e&2){let r=ae().$implicit;R(),ve(r.streakType==="single"?1:-1),R(),ve(r.streakType==="end"?2:-1)}}function As(e,t){if(e&1&&Q(0,"div",24),e&2){let r=ae().$index,n=ae();at("day-spacing-connected",n.isSpacingConnected(r))}}function Ns(e,t){if(e&1){let r=fo();$(0,"div",13)(1,"span",14),K(2),Y(),$(3,"button",15),Le("click",function(){let o=to(r).$implicit,i=ae();return no(i.handleDayClick(o))}),Ne(4,Ps,3,0,":svg:svg",16)(5,Ds,3,2,"div",17),Y()(),Ne(6,As,1,2,"div",18)}if(e&2){let r=t.$implicit,n=t.$index,o=ae();R(2),he(r.dayShort),R(),uo(o.getDayClasses(r)),ke("aria-label",r.dayName+(r.isDone?" completed":r.isMissed?" missed":" not completed")),R(),ve(r.isMissed&&!r.isDone?4:-1),R(),ve(r.isDone?5:-1),R(),ve(n<o.weekDays.length-1?6:-1)}}var Ls=(()=>{let t=class t{constructor(){this.data={title:"Morning walk",level:5,weeklyGoal:3,currentProgress:2,buildPhase:"Build phase 1/4",iconType:"fire"},this.dayToggled=new oo,this.weekDays=[],this.currentWeekStart=new Date,this.FireIcon=Io,this.Tick01Icon=Do}ngOnInit(){this.initializeWeek()}initializeWeek(){let n=new Date,o=n.getDay(),i=o===0?-6:1-o;this.currentWeekStart=new Date(n),this.currentWeekStart.setDate(n.getDate()+i),this.weekDays=this.generateWeekDays(this.currentWeekStart),this.updateStreaks()}generateWeekDays(n){let o=[],i=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],s=["Mo","Tu","We","Th","Fr","Sa","Su"],u=new Date;for(let l=0;l<7;l++){let a=new Date(n);a.setDate(n.getDate()+l);let f=a<u,c=a>u,d=a.toDateString()===u.toDateString(),p=u.getDay(),m=p===0?6:p-1,y=!1;!c&&!d&&(y=l<m&&l>=Math.max(0,m-3)),o.push({date:a,dayName:i[l],dayShort:s[l],isDone:y,isMissed:f&&!d&&!y,isFuture:c,streakType:"none"})}return o}handleDayClick(n){n.isFuture||(n.isDone=!n.isDone,n.isMissed=!n.isDone&&!n.isFuture,this.updateProgress(),this.updateStreaks(),this.dayToggled.emit({day:n,allDays:this.weekDays}))}updateProgress(){this.data.currentProgress=this.weekDays.filter(n=>n.isDone).length}updateStreaks(){this.weekDays.forEach(o=>o.streakType="none"),this.findConsecutiveGroups().forEach(o=>{if(o.length===1)this.weekDays[o[0]].streakType="single";else if(o.length===2)this.weekDays[o[0]].streakType="start",this.weekDays[o[1]].streakType="end";else if(o.length>=3){this.weekDays[o[0]].streakType="start",this.weekDays[o[o.length-1]].streakType="end";for(let i=1;i<o.length-1;i++)this.weekDays[o[i]].streakType="middle"}})}findConsecutiveGroups(){let n=[],o=[];return this.weekDays.forEach((i,s)=>{i.isDone?o.push(s):o.length>0&&(n.push([...o]),o=[])}),o.length>0&&n.push(o),n}getDayClasses(n){let o="day-tile";if(n.isFuture)return`${o} day-future`;if(n.isMissed&&!n.isDone)return`${o} day-missed`;if(n.isDone)switch(n.streakType){case"single":return`${o} day-completed day-single`;case"start":return`${o} day-completed day-streak-start`;case"middle":return`${o} day-completed day-streak-middle`;case"end":return`${o} day-completed day-streak-end`;default:return`${o} day-completed`}return`${o} day-inactive`}getCurrentStreakCount(){let n=this.findConsecutiveGroups();return n.length>0?Math.max(...n.map(o=>o.length)):0}isSpacingConnected(n){let o=this.weekDays[n],i=this.weekDays[n+1];return(o==null?void 0:o.isDone)&&(i==null?void 0:i.isDone)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=me({type:t,selectors:[["app-week-tracker"]],inputs:{data:"data"},outputs:{dayToggled:"dayToggled"},decls:21,vars:5,consts:[[1,"week-tracker-container"],[1,"week-tracker-header"],[1,"week-tracker-title"],[1,"header-right"],[1,"level-indicator"],["type","button","aria-label","Close",1,"close-btn"],[1,"week-days-container"],[1,"week-days-grid"],[1,"week-tracker-footer"],[1,"weekly-goal"],[1,"goal-text"],[1,"build-phase"],[1,"phase-text"],[1,"day-column"],[1,"day-short"],["type","button",3,"click"],["width","16","height","16","viewBox","0 0 16 16","fill","none","stroke","currentColor","stroke-width","2"],[1,"day-content"],[1,"day-spacing",3,"day-spacing-connected"],["x1","12","y1","4","x2","4","y2","12"],["x1","4","y1","4","x2","12","y2","12"],["color","currentColor",3,"icon","size","strokeWidth"],[1,"streak-info"],[1,"streak-count"],[1,"day-spacing"]],template:function(o,i){o&1&&($(0,"div",0)(1,"div",1)(2,"h2",2),K(3),Y(),$(4,"div",3)(5,"span",4),K(6),Y(),$(7,"button",5),K(8,"fg"),Y()()(),$(9,"div",6)(10,"div",7),lo(11,Ns,7,7,null,null,Ss),Y()(),$(13,"div",8)(14,"div",9)(15,"span",10),K(16),Y()(),$(17,"div",11)(18,"span",12),K(19),Y()()()(),K(20,`
week tracker component in progress
`)),o&2&&(R(3),he(i.data.title),R(3),st("Level ",i.data.level,""),R(5),co(i.weekDays),R(5),tn("Weekly goal ",i.data.currentProgress,"/",i.data.weeklyGoal,""),R(3),he(i.data.buildPhase))},dependencies:[ct],styles:[".week-tracker-container[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:20px;box-shadow:0 4px 20px #00000014;max-width:400px;margin:0 auto;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.week-tracker-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.week-tracker-header[_ngcontent-%COMP%]   .week-tracker-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#1f2937;margin:0}.week-tracker-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.week-tracker-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .level-indicator[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#6b7280}.week-tracker-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;color:#9ca3af;cursor:pointer;padding:4px;border-radius:8px;transition:all .2s ease}.week-tracker-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#6b7280}.week-tracker-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:focus{outline:2px solid #8b5cf6;outline-offset:2px}.week-days-container[_ngcontent-%COMP%]{margin-bottom:24px}.week-days-grid[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:0}.day-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px;flex:1}.day-column[_ngcontent-%COMP%]   .day-short[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#6b7280;text-transform:uppercase;letter-spacing:.5px}.day-spacing[_ngcontent-%COMP%]{width:8px;aspect-ratio:1;min-height:44px;margin-top:28px;flex-shrink:0}.day-spacing.day-spacing-connected[_ngcontent-%COMP%]{background-color:#e0d6fd;border-top:1px solid #7c3aed;border-bottom:1px solid #7c3aed}.day-tile[_ngcontent-%COMP%]{width:100%;aspect-ratio:1;border:none;border-radius:8px;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;font-size:14px;font-weight:500;transition:all .2s ease;position:relative;min-height:44px;margin:0 2px}.day-tile[_ngcontent-%COMP%]:focus{outline:2px solid #8b5cf6;outline-offset:2px}.day-tile[_ngcontent-%COMP%]   .day-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;color:#fff}.day-tile[_ngcontent-%COMP%]   .day-content[_ngcontent-%COMP%]   .streak-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.day-tile[_ngcontent-%COMP%]   .day-content[_ngcontent-%COMP%]   .streak-info[_ngcontent-%COMP%]   .streak-count[_ngcontent-%COMP%]{font-size:12px;font-weight:700}.day-tile.day-future[_ngcontent-%COMP%]{background:transparent;color:#d1d5db;cursor:not-allowed}.day-tile.day-future[_ngcontent-%COMP%]:hover{background:transparent}.day-tile.day-missed[_ngcontent-%COMP%]{background:#f9fafb;color:#9ca3af;border:1px solid #e5e7eb}.day-tile.day-missed[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#6b7280}.day-tile.day-completed[_ngcontent-%COMP%]{background:#e0d6fd;color:#fff}.day-tile.day-completed[_ngcontent-%COMP%]:hover{background:#9333ea}.day-tile.day-completed.day-single[_ngcontent-%COMP%]{border-radius:8px;border:1px solid #7c3aed;margin:0 2px}.day-tile.day-completed.day-streak-start[_ngcontent-%COMP%]{border-radius:8px 0 0 8px;border:1px solid #7c3aed;border-right:none;margin-left:2px;margin-right:0}.day-tile.day-completed.day-streak-middle[_ngcontent-%COMP%]{border-radius:0;border-top:1px solid #7c3aed;border-bottom:1px solid #7c3aed;border-left:none;border-right:none;margin:0}.day-tile.day-completed.day-streak-end[_ngcontent-%COMP%]{border-radius:0 8px 8px 0;border:1px solid #7c3aed;border-left:none;margin-left:0;margin-right:2px}.day-tile.day-inactive[_ngcontent-%COMP%]{background:#f9fafb;color:#6b7280;border:1px solid #e5e7eb}.day-tile.day-inactive[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151;border-color:#d1d5db}.week-tracker-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:14px;color:#6b7280}.week-tracker-footer[_ngcontent-%COMP%]   .goal-text[_ngcontent-%COMP%], .week-tracker-footer[_ngcontent-%COMP%]   .phase-text[_ngcontent-%COMP%]{font-weight:500}.week-tracker-footer[_ngcontent-%COMP%]   .weekly-goal[_ngcontent-%COMP%]   .goal-text[_ngcontent-%COMP%]{color:#374151}.week-tracker-footer[_ngcontent-%COMP%]   .build-phase[_ngcontent-%COMP%]   .phase-text[_ngcontent-%COMP%]{color:#6b7280}@media (max-width: 480px){.week-tracker-container[_ngcontent-%COMP%]{padding:16px;margin:0 16px}.day-column[_ngcontent-%COMP%]{gap:6px}.day-column[_ngcontent-%COMP%]   .day-short[_ngcontent-%COMP%]{font-size:10px}.day-spacing[_ngcontent-%COMP%]{width:6px;min-height:42px;margin-top:18px}.day-tile[_ngcontent-%COMP%]{min-height:36px;font-size:12px;margin:0 1px}.day-tile[_ngcontent-%COMP%]   .day-content[_ngcontent-%COMP%]   .streak-count[_ngcontent-%COMP%]{font-size:10px}.day-tile.day-completed.day-single[_ngcontent-%COMP%]{margin:0 1px}.day-tile.day-completed.day-streak-start[_ngcontent-%COMP%]{margin-left:1px;margin-right:0}.day-tile.day-completed.day-streak-middle[_ngcontent-%COMP%]{margin:0}.day-tile.day-completed.day-streak-end[_ngcontent-%COMP%]{margin-left:0;margin-right:1px}.week-tracker-footer[_ngcontent-%COMP%]{font-size:12px}.week-tracker-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{gap:8px}.week-tracker-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .level-indicator[_ngcontent-%COMP%]{font-size:12px}}.day-tile.day-completed[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_completionPulse .3s ease-out}@keyframes _ngcontent-%COMP%_completionPulse{0%{transform:scale(1)}50%{transform:scale(1.05)}to{transform:scale(1)}}"]});let e=t;return e})();var ft={RADIUS:40,STROKE_WIDTH:8,CENTER:50,SELECTED_COLOR:"#3880ff",DEFAULT_LABEL_COLOR:"#000"},Fo=e=>2*Math.PI*e;function Fs(e,t){if(e&1&&(Ae(),Q(0,"circle",3)),e&2){let r=ae();ke("cx",r.center)("cy",r.center)("r",r.radius)("stroke",r.progressColor())("stroke-width",r.strokeWidth)("stroke-dasharray",r.dashArray())}}function Rs(e,t){if(e&1&&(Ae(),Q(0,"circle",6)(1,"circle",7)(2,"circle",8)),e&2){let r=ae();ke("fill",r.labelColor()),R(),ke("fill",r.labelColor()),R(),ke("fill",r.labelColor())}}function zs(e,t){if(e&1&&(Ae(),$(0,"text",4),K(1),Y()),e&2){let r=ae();ke("fill",r.labelColor()),R(),st(" ",r.label()," ")}}function Hs(e,t){if(e&1&&(Ae(),$(0,"foreignObject",5),ro(),$(1,"div",9),Q(2,"hugeicons-icon",10),Y()()),e&2){let r=ae();R(2),ye("icon",r.resolvedIcon())("size",24)("strokeWidth",1.5)}}var er=(()=>{let t=class t{constructor(){this.colorsService=De(nn),this.progress=le(0),this.label=le(""),this.selected=le(!1),this.disabled=le(!1),this.selectedChange=en(),this.radius=ft.RADIUS,this.strokeWidth=ft.STROKE_WIDTH,this.center=ft.CENTER,this.circumference=Fo(this.radius),this.dashArray=ge(()=>`${Math.min(100,Math.max(0,this.progress()))/100*this.circumference} ${this.circumference}`),this.colors=ge(()=>this.colorsService.getColors(this.progress(),this.disabled())),this.baseRingColor=ge(()=>this.colors().background),this.progressColor=ge(()=>this.colors().progress),this.labelColor=ge(()=>this.selected()?ft.SELECTED_COLOR:ft.DEFAULT_LABEL_COLOR),this.isNumberLabel=ge(()=>{let n=this.label();return typeof n=="number"||!isNaN(Number(n))}),this.resolvedIcon=ge(()=>{let n=this.label();if(typeof n=="string")return Ao[n]})}onClick(){this.disabled()||this.selectedChange.emit()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=me({type:t,selectors:[["app-progress-ring"]],inputs:{progress:[1,"progress"],label:[1,"label"],selected:[1,"selected"],disabled:[1,"disabled"]},outputs:{selectedChange:"selectedChange"},decls:7,vars:9,consts:[[1,"ring-wrapper",3,"click"],["viewBox","0 0 100 100","preserveAspectRatio","xMidYMid meet"],["fill","none"],["fill","none","stroke-linecap","round","stroke-dashoffset","0","transform","rotate(-90 50 50)"],["x","50","y","54","text-anchor","middle","font-size","16","font-weight","bold"],["x","35","y","35","width","30","height","30"],["cx","42","cy","50","r","2"],["cx","50","cy","50","r","2"],["cx","58","cy","50","r","2"],[1,"icon-wrapper"],["color","currentColor",3,"icon","size","strokeWidth"]],template:function(o,i){o&1&&($(0,"div",0),Le("click",function(){return i.onClick()}),Ae(),$(1,"svg",1),Q(2,"circle",2),Ne(3,Fs,1,6,":svg:circle",3)(4,Rs,3,3)(5,zs,2,2,":svg:text",4)(6,Hs,3,3,":svg:foreignObject",5),Y()()),o&2&&(at("selected",i.selected()),R(2),ke("cx",i.center)("cy",i.center)("r",i.radius)("stroke",i.baseRingColor())("stroke-width",i.strokeWidth),R(),ve(i.disabled()?-1:3),R(),ve(i.disabled()?4:i.isNumberLabel()?5:6))},dependencies:[ct],styles:[".ring-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:4px;border-radius:12px;transition:background .3s ease;cursor:pointer;width:100%;height:100%}.ring-wrapper.selected[_ngcontent-%COMP%]{background-color:#e0f0ff}.ring-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%}.ring-wrapper[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{transition:stroke .3s ease,stroke-dasharray .3s ease}.ring-wrapper[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;pointer-events:none}.ring-wrapper[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.ring-wrapper[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   ion-icon.ring-icon[_ngcontent-%COMP%]{font-size:22px;color:#3880ff}.ring-wrapper[_ngcontent-%COMP%]   .month-label[_ngcontent-%COMP%]{font-size:12px;color:#666;margin-top:4px;-webkit-user-select:none;user-select:none}"]});let e=t;return e})();var Us=(()=>{let t=class t{constructor(){this.data=le(),this.cardClick=en(),this.Brain02Icon=Eo,this.ArrowRight01Icon=Po,this.router=De(bo)}onCardClick(){let n=this.data();n&&!n.disabled&&(this.cardClick.emit(n),n.url&&this.router.navigateByUrl(n.url))}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=me({type:t,selectors:[["app-scan-card-list-item"]],inputs:{data:[1,"data"]},outputs:{cardClick:"cardClick"},decls:16,vars:21,consts:[[1,"scan-card-list-item",3,"click"],[1,"progress-ring-wrapper"],[3,"progress","label","disabled"],["lines","none",1,"card-content-item"],["slot","start","color","currentColor",3,"icon","size","strokeWidth"],[1,"card-title"],[1,"card-description"],[1,"card-date"],["slot","end","color","currentColor",3,"icon","size","strokeWidth"]],template:function(o,i){if(o&1&&($(0,"ion-card",0),Le("click",function(){return i.onCardClick()}),$(1,"div",1),Q(2,"app-progress-ring",2),Y(),$(3,"ion-item",3),Q(4,"hugeicons-icon",4),$(5,"ion-label")(6,"h2",5),K(7),ut(8,"translate"),Y(),$(9,"p",6),K(10),ut(11,"translate"),Y(),$(12,"p",7),K(13),ut(14,"translate"),Y()(),Q(15,"hugeicons-icon",8),Y()()),o&2){let s,u,l,a,f,c,d,p;at("disabled",(s=i.data())==null?null:s.disabled),R(2),ye("progress",((u=i.data())==null?null:u.progress)||0)("label",(((l=i.data())==null?null:l.progress)||0).toString())("disabled",((a=i.data())==null?null:a.disabled)||!1),R(2),ye("icon",((f=i.data())==null?null:f.icon)||i.Brain02Icon)("size",24)("strokeWidth",1.5),R(3),he(lt(8,15,((c=i.data())==null?null:c.title)||"")),R(3),st(" ",lt(11,17,((d=i.data())==null?null:d.description)||"")," "),R(3),tn(" ",lt(14,19,((p=i.data())==null?null:p.dateLabel)||"")," ",((p=i.data())==null?null:p.date)||""," "),R(2),ye("icon",i.ArrowRight01Icon)("size",20)("strokeWidth",1.5)}},dependencies:[_o,wo,Co,ct,er,To,ko],styles:[".scan-card-list-item[_ngcontent-%COMP%]{border-radius:20px;background:var(--ion-background-color, white);box-shadow:0 4px 12px #00000014;overflow:hidden;cursor:pointer;transition:transform .2s ease,box-shadow .2s ease;margin:24px}.scan-card-list-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #0000001f}.scan-card-list-item.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed;pointer-events:none}.scan-card-list-item[_ngcontent-%COMP%]   .progress-ring-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background:var(--ion-background-color, white)}.scan-card-list-item[_ngcontent-%COMP%]   .progress-ring-wrapper[_ngcontent-%COMP%]   app-progress-ring[_ngcontent-%COMP%]{width:120px;height:120px}.scan-card-list-item[_ngcontent-%COMP%]   .card-content-item[_ngcontent-%COMP%]{--background: transparent;--inner-padding-start: 16px;--inner-padding-end: 16px;--padding-bottom: 16px;--padding-top: 0px;--min-height: auto;--border-width: 0}.scan-card-list-item[_ngcontent-%COMP%]   .card-content-item[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--ion-text-color);margin:0 0 8px;line-height:1.2}.scan-card-list-item[_ngcontent-%COMP%]   .card-content-item[_ngcontent-%COMP%]   .card-description[_ngcontent-%COMP%]{font-size:14px;margin:0 0 8px;line-height:1.3;font-weight:500}.scan-card-list-item[_ngcontent-%COMP%]   .card-content-item[_ngcontent-%COMP%]   .card-date[_ngcontent-%COMP%]{font-size:13px;color:var(--ion-color-medium, #92949c);margin:0;line-height:1.2}.scan-card-list-item[_ngcontent-%COMP%]   .card-content-item[_ngcontent-%COMP%]   hugeicons-icon[slot=start][_ngcontent-%COMP%]{margin-right:12px}.scan-card-list-item[_ngcontent-%COMP%]   .card-content-item[_ngcontent-%COMP%]   hugeicons-icon[slot=end][_ngcontent-%COMP%]{color:var(--ion-color-primary, #3880ff)}"]});let e=t;return e})();function Be(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function tr(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ye(e){let t,r,n;e.length!==2?(t=Be,r=(u,l)=>Be(e(u),l),n=(u,l)=>e(u)-l):(t=e===Be||e===tr?e:Ws,r=e,n=e);function o(u,l,a=0,f=u.length){if(a<f){if(t(l,l)!==0)return f;do{let c=a+f>>>1;r(u[c],l)<0?a=c+1:f=c}while(a<f)}return a}function i(u,l,a=0,f=u.length){if(a<f){if(t(l,l)!==0)return f;do{let c=a+f>>>1;r(u[c],l)<=0?a=c+1:f=c}while(a<f)}return a}function s(u,l,a=0,f=u.length){let c=o(u,l,a,f-1);return c>a&&n(u[c-1],l)>-n(u[c],l)?c-1:c}return{left:o,center:s,right:i}}function Ws(){return 0}function nr(e){return e===null?NaN:+e}var Ro=Ye(Be),zo=Ro.right,$s=Ro.left,js=Ye(nr).center,rr=zo;function rn(e,t){let r,n;if(t===void 0)for(let o of e)o!=null&&(r===void 0?o>=o&&(r=n=o):(r>o&&(r=o),n<o&&(n=o)));else{let o=-1;for(let i of e)(i=t(i,++o,e))!=null&&(r===void 0?i>=i&&(r=n=i):(r>i&&(r=i),n<i&&(n=i)))}return[r,n]}var Bs=Math.sqrt(50),Ys=Math.sqrt(10),Vs=Math.sqrt(2);function on(e,t,r){let n=(t-e)/Math.max(0,r),o=Math.floor(Math.log10(n)),i=n/Math.pow(10,o),s=i>=Bs?10:i>=Ys?5:i>=Vs?2:1,u,l,a;return o<0?(a=Math.pow(10,-o)/s,u=Math.round(e*a),l=Math.round(t*a),u/a<e&&++u,l/a>t&&--l,a=-a):(a=Math.pow(10,o)*s,u=Math.round(e/a),l=Math.round(t/a),u*a<e&&++u,l*a>t&&--l),l<u&&.5<=r&&r<2?on(e,t,r*2):[u,l,a]}function an(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];let n=t<e,[o,i,s]=n?on(t,e,r):on(e,t,r);if(!(i>=o))return[];let u=i-o+1,l=new Array(u);if(n)if(s<0)for(let a=0;a<u;++a)l[a]=(i-a)/-s;else for(let a=0;a<u;++a)l[a]=(i-a)*s;else if(s<0)for(let a=0;a<u;++a)l[a]=(o+a)/-s;else for(let a=0;a<u;++a)l[a]=(o+a)*s;return l}function Tt(e,t,r){return t=+t,e=+e,r=+r,on(e,t,r)[2]}function dt(e,t,r){t=+t,e=+e,r=+r;let n=t<e,o=n?Tt(t,e,r):Tt(e,t,r);return(n?-1:1)*(o<0?1/-o:o)}function Ho(e){return e}var or=1,ir=2,ar=3,St=4,Uo=1e-6;function qs(e){return"translate("+e+",0)"}function Gs(e){return"translate(0,"+e+")"}function Xs(e){return t=>+e(t)}function Ks(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}function Zs(){return!this.__axis}function Wo(e,t){var r=[],n=null,o=null,i=6,s=6,u=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,a=e===or||e===St?-1:1,f=e===St||e===ir?"x":"y",c=e===or||e===ar?qs:Gs;function d(p){var m=n==null?t.ticks?t.ticks.apply(t,r):t.domain():n,y=o==null?t.tickFormat?t.tickFormat.apply(t,r):Ho:o,h=Math.max(i,0)+u,v=t.range(),g=+v[0]+l,x=+v[v.length-1]+l,T=(t.bandwidth?Ks:Xs)(t.copy(),l),D=p.selection?p.selection():p,b=D.selectAll(".domain").data([null]),w=D.selectAll(".tick").data(m,t).order(),C=w.exit(),S=w.enter().append("g").attr("class","tick"),A=w.select("line"),M=w.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(S),A=A.merge(S.append("line").attr("stroke","currentColor").attr(f+"2",a*i)),M=M.merge(S.append("text").attr("fill","currentColor").attr(f,a*h).attr("dy",e===or?"0em":e===ar?"0.71em":"0.32em")),p!==D&&(b=b.transition(p),w=w.transition(p),A=A.transition(p),M=M.transition(p),C=C.transition(p).attr("opacity",Uo).attr("transform",function(I){return isFinite(I=T(I))?c(I+l):this.getAttribute("transform")}),S.attr("opacity",Uo).attr("transform",function(I){var O=this.parentNode.__axis;return c((O&&isFinite(O=O(I))?O:T(I))+l)})),C.remove(),b.attr("d",e===St||e===ir?s?"M"+a*s+","+g+"H"+l+"V"+x+"H"+a*s:"M"+l+","+g+"V"+x:s?"M"+g+","+a*s+"V"+l+"H"+x+"V"+a*s:"M"+g+","+l+"H"+x),w.attr("opacity",1).attr("transform",function(I){return c(T(I)+l)}),A.attr(f+"2",a*i),M.attr(f,a*h).text(y),D.filter(Zs).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===ir?"start":e===St?"end":"middle"),D.each(function(){this.__axis=T})}return d.scale=function(p){return arguments.length?(t=p,d):t},d.ticks=function(){return r=Array.from(arguments),d},d.tickArguments=function(p){return arguments.length?(r=p==null?[]:Array.from(p),d):r.slice()},d.tickValues=function(p){return arguments.length?(n=p==null?null:Array.from(p),d):n&&n.slice()},d.tickFormat=function(p){return arguments.length?(o=p,d):o},d.tickSize=function(p){return arguments.length?(i=s=+p,d):i},d.tickSizeInner=function(p){return arguments.length?(i=+p,d):i},d.tickSizeOuter=function(p){return arguments.length?(s=+p,d):s},d.tickPadding=function(p){return arguments.length?(u=+p,d):u},d.offset=function(p){return arguments.length?(l=+p,d):l},d}function sr(e){return Wo(ar,e)}function ur(e){return Wo(St,e)}var Qs={value:()=>{}};function jo(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new sn(r)}function sn(e){this._=e}function Js(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",o=r.indexOf(".");if(o>=0&&(n=r.slice(o+1),r=r.slice(0,o)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}sn.prototype=jo.prototype={constructor:sn,on:function(e,t){var r=this._,n=Js(e+"",r),o,i=-1,s=n.length;if(arguments.length<2){for(;++i<s;)if((o=(e=n[i]).type)&&(o=eu(r[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<s;)if(o=(e=n[i]).type)r[o]=$o(r[o],e.name,t);else if(t==null)for(o in r)r[o]=$o(r[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new sn(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var r=new Array(o),n=0,o,i;n<o;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],n=0,o=i.length;n<o;++n)i[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],o=0,i=n.length;o<i;++o)n[o].value.apply(t,r)}};function eu(e,t){for(var r=0,n=e.length,o;r<n;++r)if((o=e[r]).name===t)return o.value}function $o(e,t,r){for(var n=0,o=e.length;n<o;++n)if(e[n].name===t){e[n]=Qs,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var lr=jo;var un="http://www.w3.org/1999/xhtml",cr={svg:"http://www.w3.org/2000/svg",xhtml:un,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Te(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),cr.hasOwnProperty(t)?{space:cr[t],local:e}:e}function tu(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===un&&t.documentElement.namespaceURI===un?t.createElement(e):t.createElementNS(r,e)}}function nu(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ln(e){var t=Te(e);return(t.local?nu:tu)(t)}function ru(){}function Ve(e){return e==null?ru:function(){return this.querySelector(e)}}function Bo(e){typeof e!="function"&&(e=Ve(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var i=t[o],s=i.length,u=n[o]=new Array(s),l,a,f=0;f<s;++f)(l=i[f])&&(a=e.call(l,l.__data__,f,i))&&("__data__"in l&&(a.__data__=l.__data__),u[f]=a);return new Z(n,this._parents)}function fr(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function ou(){return[]}function Pt(e){return e==null?ou:function(){return this.querySelectorAll(e)}}function iu(e){return function(){return fr(e.apply(this,arguments))}}function Yo(e){typeof e=="function"?e=iu(e):e=Pt(e);for(var t=this._groups,r=t.length,n=[],o=[],i=0;i<r;++i)for(var s=t[i],u=s.length,l,a=0;a<u;++a)(l=s[a])&&(n.push(e.call(l,l.__data__,a,s)),o.push(l));return new Z(n,o)}function Et(e){return function(){return this.matches(e)}}function cn(e){return function(t){return t.matches(e)}}var au=Array.prototype.find;function su(e){return function(){return au.call(this.children,e)}}function uu(){return this.firstElementChild}function Vo(e){return this.select(e==null?uu:su(typeof e=="function"?e:cn(e)))}var lu=Array.prototype.filter;function cu(){return Array.from(this.children)}function fu(e){return function(){return lu.call(this.children,e)}}function qo(e){return this.selectAll(e==null?cu:fu(typeof e=="function"?e:cn(e)))}function Go(e){typeof e!="function"&&(e=Et(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var i=t[o],s=i.length,u=n[o]=[],l,a=0;a<s;++a)(l=i[a])&&e.call(l,l.__data__,a,i)&&u.push(l);return new Z(n,this._parents)}function fn(e){return new Array(e.length)}function Xo(){return new Z(this._enter||this._groups.map(fn),this._parents)}function It(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}It.prototype={constructor:It,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Ko(e){return function(){return e}}function du(e,t,r,n,o,i){for(var s=0,u,l=t.length,a=i.length;s<a;++s)(u=t[s])?(u.__data__=i[s],n[s]=u):r[s]=new It(e,i[s]);for(;s<l;++s)(u=t[s])&&(o[s]=u)}function pu(e,t,r,n,o,i,s){var u,l,a=new Map,f=t.length,c=i.length,d=new Array(f),p;for(u=0;u<f;++u)(l=t[u])&&(d[u]=p=s.call(l,l.__data__,u,t)+"",a.has(p)?o[u]=l:a.set(p,l));for(u=0;u<c;++u)p=s.call(e,i[u],u,i)+"",(l=a.get(p))?(n[u]=l,l.__data__=i[u],a.delete(p)):r[u]=new It(e,i[u]);for(u=0;u<f;++u)(l=t[u])&&a.get(d[u])===l&&(o[u]=l)}function mu(e){return e.__data__}function Zo(e,t){if(!arguments.length)return Array.from(this,mu);var r=t?pu:du,n=this._parents,o=this._groups;typeof e!="function"&&(e=Ko(e));for(var i=o.length,s=new Array(i),u=new Array(i),l=new Array(i),a=0;a<i;++a){var f=n[a],c=o[a],d=c.length,p=hu(e.call(f,f&&f.__data__,a,n)),m=p.length,y=u[a]=new Array(m),h=s[a]=new Array(m),v=l[a]=new Array(d);r(f,c,y,h,v,p,t);for(var g=0,x=0,T,D;g<m;++g)if(T=y[g]){for(g>=x&&(x=g+1);!(D=h[x])&&++x<m;);T._next=D||null}}return s=new Z(s,n),s._enter=u,s._exit=l,s}function hu(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Qo(){return new Z(this._exit||this._groups.map(fn),this._parents)}function Jo(e,t,r){var n=this.enter(),o=this,i=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),r==null?i.remove():r(i),n&&o?n.merge(o).order():o}function ei(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,o=r.length,i=n.length,s=Math.min(o,i),u=new Array(o),l=0;l<s;++l)for(var a=r[l],f=n[l],c=a.length,d=u[l]=new Array(c),p,m=0;m<c;++m)(p=a[m]||f[m])&&(d[m]=p);for(;l<o;++l)u[l]=r[l];return new Z(u,this._parents)}function ti(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],o=n.length-1,i=n[o],s;--o>=0;)(s=n[o])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function ni(e){e||(e=gu);function t(c,d){return c&&d?e(c.__data__,d.__data__):!c-!d}for(var r=this._groups,n=r.length,o=new Array(n),i=0;i<n;++i){for(var s=r[i],u=s.length,l=o[i]=new Array(u),a,f=0;f<u;++f)(a=s[f])&&(l[f]=a);l.sort(t)}return new Z(o,this._parents).order()}function gu(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ri(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function oi(){return Array.from(this)}function ii(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],o=0,i=n.length;o<i;++o){var s=n[o];if(s)return s}return null}function ai(){let e=0;for(let t of this)++e;return e}function si(){return!this.node()}function ui(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var o=t[r],i=0,s=o.length,u;i<s;++i)(u=o[i])&&e.call(u,u.__data__,i,o);return this}function yu(e){return function(){this.removeAttribute(e)}}function vu(e){return function(){this.removeAttributeNS(e.space,e.local)}}function xu(e,t){return function(){this.setAttribute(e,t)}}function bu(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function _u(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function wu(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function li(e,t){var r=Te(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?vu:yu:typeof t=="function"?r.local?wu:_u:r.local?bu:xu)(r,t))}function dn(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Cu(e){return function(){this.style.removeProperty(e)}}function Mu(e,t,r){return function(){this.style.setProperty(e,t,r)}}function Ou(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function ci(e,t,r){return arguments.length>1?this.each((t==null?Cu:typeof t=="function"?Ou:Mu)(e,t,r==null?"":r)):Fe(this.node(),e)}function Fe(e,t){return e.style.getPropertyValue(t)||dn(e).getComputedStyle(e,null).getPropertyValue(t)}function ku(e){return function(){delete this[e]}}function Tu(e,t){return function(){this[e]=t}}function Su(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function fi(e,t){return arguments.length>1?this.each((t==null?ku:typeof t=="function"?Su:Tu)(e,t)):this.node()[e]}function di(e){return e.trim().split(/^|\s+/)}function dr(e){return e.classList||new pi(e)}function pi(e){this._node=e,this._names=di(e.getAttribute("class")||"")}pi.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function mi(e,t){for(var r=dr(e),n=-1,o=t.length;++n<o;)r.add(t[n])}function hi(e,t){for(var r=dr(e),n=-1,o=t.length;++n<o;)r.remove(t[n])}function Pu(e){return function(){mi(this,e)}}function Eu(e){return function(){hi(this,e)}}function Iu(e,t){return function(){(t.apply(this,arguments)?mi:hi)(this,e)}}function gi(e,t){var r=di(e+"");if(arguments.length<2){for(var n=dr(this.node()),o=-1,i=r.length;++o<i;)if(!n.contains(r[o]))return!1;return!0}return this.each((typeof t=="function"?Iu:t?Pu:Eu)(r,t))}function Du(){this.textContent=""}function Au(e){return function(){this.textContent=e}}function Nu(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function yi(e){return arguments.length?this.each(e==null?Du:(typeof e=="function"?Nu:Au)(e)):this.node().textContent}function Lu(){this.innerHTML=""}function Fu(e){return function(){this.innerHTML=e}}function Ru(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function vi(e){return arguments.length?this.each(e==null?Lu:(typeof e=="function"?Ru:Fu)(e)):this.node().innerHTML}function zu(){this.nextSibling&&this.parentNode.appendChild(this)}function xi(){return this.each(zu)}function Hu(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function bi(){return this.each(Hu)}function _i(e){var t=typeof e=="function"?e:ln(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Uu(){return null}function wi(e,t){var r=typeof e=="function"?e:ln(e),n=t==null?Uu:typeof t=="function"?t:Ve(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function Wu(){var e=this.parentNode;e&&e.removeChild(this)}function Ci(){return this.each(Wu)}function $u(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ju(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Mi(e){return this.select(e?ju:$u)}function Oi(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Bu(e){return function(t){e.call(this,t,this.__data__)}}function Yu(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function Vu(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,o=t.length,i;r<o;++r)i=t[r],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++n]=i;++n?t.length=n:delete this.__on}}}function qu(e,t,r){return function(){var n=this.__on,o,i=Bu(t);if(n){for(var s=0,u=n.length;s<u;++s)if((o=n[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=r),o.value=t;return}}this.addEventListener(e.type,i,r),o={type:e.type,name:e.name,value:t,listener:i,options:r},n?n.push(o):this.__on=[o]}}function ki(e,t,r){var n=Yu(e+""),o,i=n.length,s;if(arguments.length<2){var u=this.node().__on;if(u){for(var l=0,a=u.length,f;l<a;++l)for(o=0,f=u[l];o<i;++o)if((s=n[o]).type===f.type&&s.name===f.name)return f.value}return}for(u=t?qu:Vu,o=0;o<i;++o)this.each(u(n[o],t,r));return this}function Ti(e,t,r){var n=dn(e),o=n.CustomEvent;typeof o=="function"?o=new o(t,r):(o=n.document.createEvent("Event"),r?(o.initEvent(t,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function Gu(e,t){return function(){return Ti(this,e,t)}}function Xu(e,t){return function(){return Ti(this,e,t.apply(this,arguments))}}function Si(e,t){return this.each((typeof t=="function"?Xu:Gu)(e,t))}function*Pi(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],o=0,i=n.length,s;o<i;++o)(s=n[o])&&(yield s)}var pr=[null];function Z(e,t){this._groups=e,this._parents=t}function Ei(){return new Z([[document.documentElement]],pr)}function Ku(){return this}Z.prototype=Ei.prototype={constructor:Z,select:Bo,selectAll:Yo,selectChild:Vo,selectChildren:qo,filter:Go,data:Zo,enter:Xo,exit:Qo,join:Jo,merge:ei,selection:Ku,order:ti,sort:ni,call:ri,nodes:oi,node:ii,size:ai,empty:si,each:ui,attr:li,style:ci,property:fi,classed:gi,text:yi,html:vi,raise:xi,lower:bi,append:_i,insert:wi,remove:Ci,clone:Mi,datum:Oi,on:ki,dispatch:Si,[Symbol.iterator]:Pi};var Se=Ei;function mr(e){return typeof e=="string"?new Z([[document.querySelector(e)]],[document.documentElement]):new Z([[e]],pr)}function pn(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function hr(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Nt(){}var Dt=.7,gn=1/Dt,pt="\\s*([+-]?\\d+)\\s*",At="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",we="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Zu=/^#([0-9a-f]{3,8})$/,Qu=new RegExp(`^rgb\\(${pt},${pt},${pt}\\)$`),Ju=new RegExp(`^rgb\\(${we},${we},${we}\\)$`),el=new RegExp(`^rgba\\(${pt},${pt},${pt},${At}\\)$`),tl=new RegExp(`^rgba\\(${we},${we},${we},${At}\\)$`),nl=new RegExp(`^hsl\\(${At},${we},${we}\\)$`),rl=new RegExp(`^hsla\\(${At},${we},${we},${At}\\)$`),Ii={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pn(Nt,be,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Di,formatHex:Di,formatHex8:ol,formatHsl:il,formatRgb:Ai,toString:Ai});function Di(){return this.rgb().formatHex()}function ol(){return this.rgb().formatHex8()}function il(){return Hi(this).formatHsl()}function Ai(){return this.rgb().formatRgb()}function be(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Zu.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Ni(t):r===3?new ce(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?mn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?mn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Qu.exec(e))?new ce(t[1],t[2],t[3],1):(t=Ju.exec(e))?new ce(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=el.exec(e))?mn(t[1],t[2],t[3],t[4]):(t=tl.exec(e))?mn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=nl.exec(e))?Ri(t[1],t[2]/100,t[3]/100,1):(t=rl.exec(e))?Ri(t[1],t[2]/100,t[3]/100,t[4]):Ii.hasOwnProperty(e)?Ni(Ii[e]):e==="transparent"?new ce(NaN,NaN,NaN,0):null}function Ni(e){return new ce(e>>16&255,e>>8&255,e&255,1)}function mn(e,t,r,n){return n<=0&&(e=t=r=NaN),new ce(e,t,r,n)}function al(e){return e instanceof Nt||(e=be(e)),e?(e=e.rgb(),new ce(e.r,e.g,e.b,e.opacity)):new ce}function mt(e,t,r,n){return arguments.length===1?al(e):new ce(e,t,r,n==null?1:n)}function ce(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}pn(ce,mt,hr(Nt,{brighter(e){return e=e==null?gn:Math.pow(gn,e),new ce(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Dt:Math.pow(Dt,e),new ce(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ce(Ge(this.r),Ge(this.g),Ge(this.b),yn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Li,formatHex:Li,formatHex8:sl,formatRgb:Fi,toString:Fi}));function Li(){return`#${qe(this.r)}${qe(this.g)}${qe(this.b)}`}function sl(){return`#${qe(this.r)}${qe(this.g)}${qe(this.b)}${qe((isNaN(this.opacity)?1:this.opacity)*255)}`}function Fi(){let e=yn(this.opacity);return`${e===1?"rgb(":"rgba("}${Ge(this.r)}, ${Ge(this.g)}, ${Ge(this.b)}${e===1?")":`, ${e})`}`}function yn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ge(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function qe(e){return e=Ge(e),(e<16?"0":"")+e.toString(16)}function Ri(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new xe(e,t,r,n)}function Hi(e){if(e instanceof xe)return new xe(e.h,e.s,e.l,e.opacity);if(e instanceof Nt||(e=be(e)),!e)return new xe;if(e instanceof xe)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,o=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,u=i-o,l=(i+o)/2;return u?(t===i?s=(r-n)/u+(r<n)*6:r===i?s=(n-t)/u+2:s=(t-r)/u+4,u/=l<.5?i+o:2-i-o,s*=60):u=l>0&&l<1?0:s,new xe(s,u,l,e.opacity)}function Ui(e,t,r,n){return arguments.length===1?Hi(e):new xe(e,t,r,n==null?1:n)}function xe(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}pn(xe,Ui,hr(Nt,{brighter(e){return e=e==null?gn:Math.pow(gn,e),new xe(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Dt:Math.pow(Dt,e),new xe(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,o=2*r-n;return new ce(gr(e>=240?e-240:e+120,o,n),gr(e,o,n),gr(e<120?e+240:e-120,o,n),this.opacity)},clamp(){return new xe(zi(this.h),hn(this.s),hn(this.l),yn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=yn(this.opacity);return`${e===1?"hsl(":"hsla("}${zi(this.h)}, ${hn(this.s)*100}%, ${hn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function zi(e){return e=(e||0)%360,e<0?e+360:e}function hn(e){return Math.max(0,Math.min(1,e||0))}function gr(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}function yr(e,t,r,n,o){var i=e*e,s=i*e;return((1-3*e+3*i-s)*t+(4-6*i+3*s)*r+(1+3*e+3*i-3*s)*n+s*o)/6}function Wi(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),o=e[n],i=e[n+1],s=n>0?e[n-1]:2*o-i,u=n<t-1?e[n+2]:2*i-o;return yr((r-n/t)*t,s,o,i,u)}}function $i(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),o=e[(n+t-1)%t],i=e[n%t],s=e[(n+1)%t],u=e[(n+2)%t];return yr((r-n/t)*t,o,i,s,u)}}var Lt=e=>()=>e;function ul(e,t){return function(r){return e+r*t}}function ll(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function ji(e){return(e=+e)==1?vn:function(t,r){return r-t?ll(t,r,e):Lt(isNaN(t)?r:t)}}function vn(e,t){var r=t-e;return r?ul(e,r):Lt(isNaN(e)?t:e)}var Xe=function e(t){var r=ji(t);function n(o,i){var s=r((o=mt(o)).r,(i=mt(i)).r),u=r(o.g,i.g),l=r(o.b,i.b),a=vn(o.opacity,i.opacity);return function(f){return o.r=s(f),o.g=u(f),o.b=l(f),o.opacity=a(f),o+""}}return n.gamma=e,n}(1);function Bi(e){return function(t){var r=t.length,n=new Array(r),o=new Array(r),i=new Array(r),s,u;for(s=0;s<r;++s)u=mt(t[s]),n[s]=u.r||0,o[s]=u.g||0,i[s]=u.b||0;return n=e(n),o=e(o),i=e(i),u.opacity=1,function(l){return u.r=n(l),u.g=o(l),u.b=i(l),u+""}}}var cl=Bi(Wi),fl=Bi($i);function Yi(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),o;return function(i){for(o=0;o<r;++o)n[o]=e[o]*(1-i)+t[o]*i;return n}}function Vi(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function qi(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,o=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)o[s]=Ke(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(u){for(s=0;s<n;++s)i[s]=o[s](u);return i}}function Gi(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ne(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Xi(e,t){var r={},n={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?r[o]=Ke(e[o],t[o]):n[o]=t[o];return function(i){for(o in r)n[o]=r[o](i);return n}}var xr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vr=new RegExp(xr.source,"g");function dl(e){return function(){return e}}function pl(e){return function(t){return e(t)+""}}function Ft(e,t){var r=xr.lastIndex=vr.lastIndex=0,n,o,i,s=-1,u=[],l=[];for(e=e+"",t=t+"";(n=xr.exec(e))&&(o=vr.exec(t));)(i=o.index)>r&&(i=t.slice(r,i),u[s]?u[s]+=i:u[++s]=i),(n=n[0])===(o=o[0])?u[s]?u[s]+=o:u[++s]=o:(u[++s]=null,l.push({i:s,x:ne(n,o)})),r=vr.lastIndex;return r<t.length&&(i=t.slice(r),u[s]?u[s]+=i:u[++s]=i),u.length<2?l[0]?pl(l[0].x):dl(t):(t=l.length,function(a){for(var f=0,c;f<t;++f)u[(c=l[f]).i]=c.x(a);return u.join("")})}function Ke(e,t){var r=typeof t,n;return t==null||r==="boolean"?Lt(t):(r==="number"?ne:r==="string"?(n=be(t))?(t=n,Xe):Ft:t instanceof be?Xe:t instanceof Date?Gi:Vi(t)?Yi:Array.isArray(t)?qi:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Xi:ne)(e,t)}function br(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var Ki=180/Math.PI,xn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function _r(e,t,r,n,o,i){var s,u,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(u=Math.sqrt(r*r+n*n))&&(r/=u,n/=u,l/=u),e*n<t*r&&(e=-e,t=-t,l=-l,s=-s),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*Ki,skewX:Math.atan(l)*Ki,scaleX:s,scaleY:u}}var bn;function Zi(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?xn:_r(t.a,t.b,t.c,t.d,t.e,t.f)}function Qi(e){return e==null?xn:(bn||(bn=document.createElementNS("http://www.w3.org/2000/svg","g")),bn.setAttribute("transform",e),(e=bn.transform.baseVal.consolidate())?(e=e.matrix,_r(e.a,e.b,e.c,e.d,e.e,e.f)):xn)}function Ji(e,t,r,n){function o(a){return a.length?a.pop()+" ":""}function i(a,f,c,d,p,m){if(a!==c||f!==d){var y=p.push("translate(",null,t,null,r);m.push({i:y-4,x:ne(a,c)},{i:y-2,x:ne(f,d)})}else(c||d)&&p.push("translate("+c+t+d+r)}function s(a,f,c,d){a!==f?(a-f>180?f+=360:f-a>180&&(a+=360),d.push({i:c.push(o(c)+"rotate(",null,n)-2,x:ne(a,f)})):f&&c.push(o(c)+"rotate("+f+n)}function u(a,f,c,d){a!==f?d.push({i:c.push(o(c)+"skewX(",null,n)-2,x:ne(a,f)}):f&&c.push(o(c)+"skewX("+f+n)}function l(a,f,c,d,p,m){if(a!==c||f!==d){var y=p.push(o(p)+"scale(",null,",",null,")");m.push({i:y-4,x:ne(a,c)},{i:y-2,x:ne(f,d)})}else(c!==1||d!==1)&&p.push(o(p)+"scale("+c+","+d+")")}return function(a,f){var c=[],d=[];return a=e(a),f=e(f),i(a.translateX,a.translateY,f.translateX,f.translateY,c,d),s(a.rotate,f.rotate,c,d),u(a.skewX,f.skewX,c,d),l(a.scaleX,a.scaleY,f.scaleX,f.scaleY,c,d),a=f=null,function(p){for(var m=-1,y=d.length,h;++m<y;)c[(h=d[m]).i]=h.x(p);return c.join("")}}}var wr=Ji(Zi,"px, ","px)","deg)"),Cr=Ji(Qi,", ",")",")");var ht=0,zt=0,Rt=0,ta=1e3,_n,Ht,wn=0,Ze=0,Cn=0,Ut=typeof performance=="object"&&performance.now?performance:Date,na=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function $t(){return Ze||(na(ml),Ze=Ut.now()+Cn)}function ml(){Ze=0}function Wt(){this._call=this._time=this._next=null}Wt.prototype=Mn.prototype={constructor:Wt,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?$t():+r)+(t==null?0:+t),!this._next&&Ht!==this&&(Ht?Ht._next=this:_n=this,Ht=this),this._call=e,this._time=r,Mr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Mr())}};function Mn(e,t,r){var n=new Wt;return n.restart(e,t,r),n}function ra(){$t(),++ht;for(var e=_n,t;e;)(t=Ze-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ht}function ea(){Ze=(wn=Ut.now())+Cn,ht=zt=0;try{ra()}finally{ht=0,gl(),Ze=0}}function hl(){var e=Ut.now(),t=e-wn;t>ta&&(Cn-=t,wn=e)}function gl(){for(var e,t=_n,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:_n=r);Ht=e,Mr(n)}function Mr(e){if(!ht){zt&&(zt=clearTimeout(zt));var t=e-Ze;t>24?(e<1/0&&(zt=setTimeout(ea,e-Ut.now()-Cn)),Rt&&(Rt=clearInterval(Rt))):(Rt||(wn=Ut.now(),Rt=setInterval(hl,ta)),ht=1,na(ea))}}function On(e,t,r){var n=new Wt;return t=t==null?0:+t,n.restart(o=>{n.stop(),e(o+t)},t,r),n}var yl=lr("start","end","cancel","interrupt"),vl=[],aa=0,oa=1,Tn=2,kn=3,ia=4,Sn=5,jt=6;function Re(e,t,r,n,o,i){var s=e.__transition;if(!s)e.__transition={};else if(r in s)return;xl(e,r,{name:t,index:n,group:o,on:yl,tween:vl,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:aa})}function Bt(e,t){var r=ee(e,t);if(r.state>aa)throw new Error("too late; already scheduled");return r}function re(e,t){var r=ee(e,t);if(r.state>kn)throw new Error("too late; already running");return r}function ee(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function xl(e,t,r){var n=e.__transition,o;n[t]=r,r.timer=Mn(i,0,r.time);function i(a){r.state=oa,r.timer.restart(s,r.delay,r.time),r.delay<=a&&s(a-r.delay)}function s(a){var f,c,d,p;if(r.state!==oa)return l();for(f in n)if(p=n[f],p.name===r.name){if(p.state===kn)return On(s);p.state===ia?(p.state=jt,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete n[f]):+f<t&&(p.state=jt,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete n[f])}if(On(function(){r.state===kn&&(r.state=ia,r.timer.restart(u,r.delay,r.time),u(a))}),r.state=Tn,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Tn){for(r.state=kn,o=new Array(d=r.tween.length),f=0,c=-1;f<d;++f)(p=r.tween[f].value.call(e,e.__data__,r.index,r.group))&&(o[++c]=p);o.length=c+1}}function u(a){for(var f=a<r.duration?r.ease.call(null,a/r.duration):(r.timer.restart(l),r.state=Sn,1),c=-1,d=o.length;++c<d;)o[c].call(e,f);r.state===Sn&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){r.state=jt,r.timer.stop(),delete n[t];for(var a in n)return;delete e.__transition}}function Pn(e,t){var r=e.__transition,n,o,i=!0,s;if(r){t=t==null?null:t+"";for(s in r){if((n=r[s]).name!==t){i=!1;continue}o=n.state>Tn&&n.state<Sn,n.state=jt,n.timer.stop(),n.on.call(o?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[s]}i&&delete e.__transition}}function sa(e){return this.each(function(){Pn(this,e)})}function bl(e,t){var r,n;return function(){var o=re(this,e),i=o.tween;if(i!==r){n=r=i;for(var s=0,u=n.length;s<u;++s)if(n[s].name===t){n=n.slice(),n.splice(s,1);break}}o.tween=n}}function _l(e,t,r){var n,o;if(typeof r!="function")throw new Error;return function(){var i=re(this,e),s=i.tween;if(s!==n){o=(n=s).slice();for(var u={name:t,value:r},l=0,a=o.length;l<a;++l)if(o[l].name===t){o[l]=u;break}l===a&&o.push(u)}i.tween=o}}function ua(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=ee(this.node(),r).tween,o=0,i=n.length,s;o<i;++o)if((s=n[o]).name===e)return s.value;return null}return this.each((t==null?bl:_l)(r,e,t))}function gt(e,t,r){var n=e._id;return e.each(function(){var o=re(this,n);(o.value||(o.value={}))[t]=r.apply(this,arguments)}),function(o){return ee(o,n).value[t]}}function En(e,t){var r;return(typeof t=="number"?ne:t instanceof be?Xe:(r=be(t))?(t=r,Xe):Ft)(e,t)}function wl(e){return function(){this.removeAttribute(e)}}function Cl(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ml(e,t,r){var n,o=r+"",i;return function(){var s=this.getAttribute(e);return s===o?null:s===n?i:i=t(n=s,r)}}function Ol(e,t,r){var n,o=r+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===n?i:i=t(n=s,r)}}function kl(e,t,r){var n,o,i;return function(){var s,u=r(this),l;return u==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=u+"",s===l?null:s===n&&l===o?i:(o=l,i=t(n=s,u)))}}function Tl(e,t,r){var n,o,i;return function(){var s,u=r(this),l;return u==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=u+"",s===l?null:s===n&&l===o?i:(o=l,i=t(n=s,u)))}}function la(e,t){var r=Te(e),n=r==="transform"?Cr:En;return this.attrTween(e,typeof t=="function"?(r.local?Tl:kl)(r,n,gt(this,"attr."+e,t)):t==null?(r.local?Cl:wl)(r):(r.local?Ol:Ml)(r,n,t))}function Sl(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function Pl(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function El(e,t){var r,n;function o(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&Pl(e,i)),r}return o._value=t,o}function Il(e,t){var r,n;function o(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&Sl(e,i)),r}return o._value=t,o}function ca(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Te(e);return this.tween(r,(n.local?El:Il)(n,t))}function Dl(e,t){return function(){Bt(this,e).delay=+t.apply(this,arguments)}}function Al(e,t){return t=+t,function(){Bt(this,e).delay=t}}function fa(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Dl:Al)(t,e)):ee(this.node(),t).delay}function Nl(e,t){return function(){re(this,e).duration=+t.apply(this,arguments)}}function Ll(e,t){return t=+t,function(){re(this,e).duration=t}}function da(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Nl:Ll)(t,e)):ee(this.node(),t).duration}function Fl(e,t){if(typeof t!="function")throw new Error;return function(){re(this,e).ease=t}}function pa(e){var t=this._id;return arguments.length?this.each(Fl(t,e)):ee(this.node(),t).ease}function Rl(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;re(this,e).ease=r}}function ma(e){if(typeof e!="function")throw new Error;return this.each(Rl(this._id,e))}function ha(e){typeof e!="function"&&(e=Et(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var i=t[o],s=i.length,u=n[o]=[],l,a=0;a<s;++a)(l=i[a])&&e.call(l,l.__data__,a,i)&&u.push(l);return new se(n,this._parents,this._name,this._id)}function ga(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,o=r.length,i=Math.min(n,o),s=new Array(n),u=0;u<i;++u)for(var l=t[u],a=r[u],f=l.length,c=s[u]=new Array(f),d,p=0;p<f;++p)(d=l[p]||a[p])&&(c[p]=d);for(;u<n;++u)s[u]=t[u];return new se(s,this._parents,this._name,this._id)}function zl(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function Hl(e,t,r){var n,o,i=zl(t)?Bt:re;return function(){var s=i(this,e),u=s.on;u!==n&&(o=(n=u).copy()).on(t,r),s.on=o}}function ya(e,t){var r=this._id;return arguments.length<2?ee(this.node(),r).on.on(e):this.each(Hl(r,e,t))}function Ul(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function va(){return this.on("end.remove",Ul(this._id))}function xa(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Ve(e));for(var n=this._groups,o=n.length,i=new Array(o),s=0;s<o;++s)for(var u=n[s],l=u.length,a=i[s]=new Array(l),f,c,d=0;d<l;++d)(f=u[d])&&(c=e.call(f,f.__data__,d,u))&&("__data__"in f&&(c.__data__=f.__data__),a[d]=c,Re(a[d],t,r,d,a,ee(f,r)));return new se(i,this._parents,t,r)}function ba(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Pt(e));for(var n=this._groups,o=n.length,i=[],s=[],u=0;u<o;++u)for(var l=n[u],a=l.length,f,c=0;c<a;++c)if(f=l[c]){for(var d=e.call(f,f.__data__,c,l),p,m=ee(f,r),y=0,h=d.length;y<h;++y)(p=d[y])&&Re(p,t,r,y,d,m);i.push(d),s.push(f)}return new se(i,s,t,r)}var Wl=Se.prototype.constructor;function _a(){return new Wl(this._groups,this._parents)}function $l(e,t){var r,n,o;return function(){var i=Fe(this,e),s=(this.style.removeProperty(e),Fe(this,e));return i===s?null:i===r&&s===n?o:o=t(r=i,n=s)}}function wa(e){return function(){this.style.removeProperty(e)}}function jl(e,t,r){var n,o=r+"",i;return function(){var s=Fe(this,e);return s===o?null:s===n?i:i=t(n=s,r)}}function Bl(e,t,r){var n,o,i;return function(){var s=Fe(this,e),u=r(this),l=u+"";return u==null&&(l=u=(this.style.removeProperty(e),Fe(this,e))),s===l?null:s===n&&l===o?i:(o=l,i=t(n=s,u))}}function Yl(e,t){var r,n,o,i="style."+t,s="end."+i,u;return function(){var l=re(this,e),a=l.on,f=l.value[i]==null?u||(u=wa(t)):void 0;(a!==r||o!==f)&&(n=(r=a).copy()).on(s,o=f),l.on=n}}function Ca(e,t,r){var n=(e+="")=="transform"?wr:En;return t==null?this.styleTween(e,$l(e,n)).on("end.style."+e,wa(e)):typeof t=="function"?this.styleTween(e,Bl(e,n,gt(this,"style."+e,t))).each(Yl(this._id,e)):this.styleTween(e,jl(e,n,t),r).on("end.style."+e,null)}function Vl(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function ql(e,t,r){var n,o;function i(){var s=t.apply(this,arguments);return s!==o&&(n=(o=s)&&Vl(e,s,r)),n}return i._value=t,i}function Ma(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,ql(e,t,r==null?"":r))}function Gl(e){return function(){this.textContent=e}}function Xl(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function Oa(e){return this.tween("text",typeof e=="function"?Xl(gt(this,"text",e)):Gl(e==null?"":e+""))}function Kl(e){return function(t){this.textContent=e.call(this,t)}}function Zl(e){var t,r;function n(){var o=e.apply(this,arguments);return o!==r&&(t=(r=o)&&Kl(o)),t}return n._value=e,n}function ka(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Zl(e))}function Ta(){for(var e=this._name,t=this._id,r=In(),n=this._groups,o=n.length,i=0;i<o;++i)for(var s=n[i],u=s.length,l,a=0;a<u;++a)if(l=s[a]){var f=ee(l,t);Re(l,e,r,a,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new se(n,this._parents,e,r)}function Sa(){var e,t,r=this,n=r._id,o=r.size();return new Promise(function(i,s){var u={value:s},l={value:function(){--o===0&&i()}};r.each(function(){var a=re(this,n),f=a.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(l)),a.on=t}),o===0&&i()})}var Ql=0;function se(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function Pa(e){return Se().transition(e)}function In(){return++Ql}var Pe=Se.prototype;se.prototype=Pa.prototype={constructor:se,select:xa,selectAll:ba,selectChild:Pe.selectChild,selectChildren:Pe.selectChildren,filter:ha,merge:ga,selection:_a,transition:Ta,call:Pe.call,nodes:Pe.nodes,node:Pe.node,size:Pe.size,empty:Pe.empty,each:Pe.each,on:ya,attr:la,attrTween:ca,style:Ca,styleTween:Ma,text:Oa,textTween:ka,remove:va,tween:ua,delay:fa,duration:da,ease:pa,easeVarying:ma,end:Sa,[Symbol.iterator]:Pe[Symbol.iterator]};function Dn(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Jl={time:null,delay:0,duration:250,ease:Dn};function ec(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function Ea(e){var t,r;e instanceof se?(t=e._id,e=e._name):(t=In(),(r=Jl).time=$t(),e=e==null?null:e+"");for(var n=this._groups,o=n.length,i=0;i<o;++i)for(var s=n[i],u=s.length,l,a=0;a<u;++a)(l=s[a])&&Re(l,e,t,a,s,r||ec(l,t));return new se(n,this._parents,e,t)}Se.prototype.interrupt=sa;Se.prototype.transition=Ea;var{abs:oy,max:iy,min:ay}=Math;function Ia(e){return[+e[0],+e[1]]}function tc(e){return[Ia(e[0]),Ia(e[1])]}var sy={name:"x",handles:["w","e"].map(Or),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},uy={name:"y",handles:["n","s"].map(Or),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},ly={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Or),input:function(e){return e==null?null:tc(e)},output:function(e){return e}};function Or(e){return{type:e}}var kr=Math.PI,Tr=2*kr,Qe=1e-6,nc=Tr-Qe;function Da(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function rc(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Da;let r=10**t;return function(n){this._+=n[0];for(let o=1,i=n.length;o<i;++o)this._+=Math.round(arguments[o]*r)/r+n[o]}}var Je=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Da:rc(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,o){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+o}`}bezierCurveTo(t,r,n,o,i,s){this._append`C${+t},${+r},${+n},${+o},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,o,i){if(t=+t,r=+r,n=+n,o=+o,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,u=this._y1,l=n-t,a=o-r,f=s-t,c=u-r,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(d>Qe)if(!(Math.abs(c*l-a*f)>Qe)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,m=o-u,y=l*l+a*a,h=p*p+m*m,v=Math.sqrt(y),g=Math.sqrt(d),x=i*Math.tan((kr-Math.acos((y+d-h)/(2*v*g)))/2),T=x/g,D=x/v;Math.abs(T-1)>Qe&&this._append`L${t+T*f},${r+T*c}`,this._append`A${i},${i},0,0,${+(c*p>f*m)},${this._x1=t+D*l},${this._y1=r+D*a}`}}arc(t,r,n,o,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(o),l=n*Math.sin(o),a=t+u,f=r+l,c=1^s,d=s?o-i:i-o;this._x1===null?this._append`M${a},${f}`:(Math.abs(this._x1-a)>Qe||Math.abs(this._y1-f)>Qe)&&this._append`L${a},${f}`,n&&(d<0&&(d=d%Tr+Tr),d>nc?this._append`A${n},${n},0,1,${c},${t-u},${r-l}A${n},${n},0,1,${c},${this._x1=a},${this._y1=f}`:d>Qe&&this._append`A${n},${n},0,${+(d>=kr)},${c},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,o){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+o}h${-n}Z`}toString(){return this._}};function Aa(){return new Je}Aa.prototype=Je.prototype;function Na(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function et(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ce(e){return e=et(Math.abs(e)),e?e[1]:NaN}function La(e,t){return function(r,n){for(var o=r.length,i=[],s=0,u=e[0],l=0;o>0&&u>0&&(l+u+1>n&&(u=Math.max(1,n-l)),i.push(r.substring(o-=u,o+u)),!((l+=u+1)>n));)u=e[s=(s+1)%e.length];return i.reverse().join(t)}}function Fa(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var oc=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ze(e){if(!(t=oc.exec(e)))throw new Error("invalid format: "+e);var t;return new An({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ze.prototype=An.prototype;function An(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}An.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ra(e){e:for(var t=e.length,r=1,n=-1,o;r<t;++r)switch(e[r]){case".":n=o=r;break;case"0":n===0&&(n=r),o=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(o+1):e}var Sr;function za(e,t){var r=et(e,t);if(!r)return e+"";var n=r[0],o=r[1],i=o-(Sr=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+et(e,Math.max(0,t+i-1))[0]}function Pr(e,t){var r=et(e,t);if(!r)return e+"";var n=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+n:n.length>o+1?n.slice(0,o+1)+"."+n.slice(o+1):n+new Array(o-n.length+2).join("0")}var Er={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Na,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Pr(e*100,t),r:Pr,s:za,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ir(e){return e}var Ha=Array.prototype.map,Ua=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Wa(e){var t=e.grouping===void 0||e.thousands===void 0?Ir:La(Ha.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Ir:Fa(Ha.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"\u2212":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function a(c){c=ze(c);var d=c.fill,p=c.align,m=c.sign,y=c.symbol,h=c.zero,v=c.width,g=c.comma,x=c.precision,T=c.trim,D=c.type;D==="n"?(g=!0,D="g"):Er[D]||(x===void 0&&(x=12),T=!0,D="g"),(h||d==="0"&&p==="=")&&(h=!0,d="0",p="=");var b=y==="$"?r:y==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",w=y==="$"?n:/[%p]/.test(D)?s:"",C=Er[D],S=/[defgprs%]/.test(D);x=x===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function A(M){var I=b,O=w,L,N,P;if(D==="c")O=C(M)+O,M="";else{M=+M;var E=M<0||1/M<0;if(M=isNaN(M)?l:C(Math.abs(M),x),T&&(M=Ra(M)),E&&+M==0&&m!=="+"&&(E=!1),I=(E?m==="("?m:u:m==="-"||m==="("?"":m)+I,O=(D==="s"?Ua[8+Sr/3]:"")+O+(E&&m==="("?")":""),S){for(L=-1,N=M.length;++L<N;)if(P=M.charCodeAt(L),48>P||P>57){O=(P===46?o+M.slice(L+1):M.slice(L))+O,M=M.slice(0,L);break}}}g&&!h&&(M=t(M,1/0));var U=I.length+M.length+O.length,H=U<v?new Array(v-U+1).join(d):"";switch(g&&h&&(M=t(H+M,H.length?v-O.length:1/0),H=""),p){case"<":M=I+M+O+H;break;case"=":M=I+H+M+O;break;case"^":M=H.slice(0,U=H.length>>1)+I+M+O+H.slice(U);break;default:M=H+I+M+O;break}return i(M)}return A.toString=function(){return c+""},A}function f(c,d){var p=a((c=ze(c),c.type="f",c)),m=Math.max(-8,Math.min(8,Math.floor(Ce(d)/3)))*3,y=Math.pow(10,-m),h=Ua[8+m/3];return function(v){return p(y*v)+h}}return{format:a,formatPrefix:f}}var Nn,Ln,Fn;Dr({thousands:",",grouping:[3],currency:["$",""]});function Dr(e){return Nn=Wa(e),Ln=Nn.format,Fn=Nn.formatPrefix,Nn}function Ar(e){return Math.max(0,-Ce(Math.abs(e)))}function Nr(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ce(t)/3)))*3-Ce(Math.abs(e)))}function Lr(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ce(t)-Ce(e))+1}function Rn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Fr(e){return function(){return e}}function Rr(e){return+e}var $a=[0,1];function yt(e){return e}function zr(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Fr(isNaN(t)?NaN:.5)}function ic(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function ac(e,t,r){var n=e[0],o=e[1],i=t[0],s=t[1];return o<n?(n=zr(o,n),i=r(s,i)):(n=zr(n,o),i=r(i,s)),function(u){return i(n(u))}}function sc(e,t,r){var n=Math.min(e.length,t.length)-1,o=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)o[s]=zr(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(u){var l=rr(e,u,1,n)-1;return i[l](o[l](u))}}function zn(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function uc(){var e=$a,t=$a,r=Ke,n,o,i,s=yt,u,l,a;function f(){var d=Math.min(e.length,t.length);return s!==yt&&(s=ic(e[0],e[d-1])),u=d>2?sc:ac,l=a=null,c}function c(d){return d==null||isNaN(d=+d)?i:(l||(l=u(e.map(n),t,r)))(n(s(d)))}return c.invert=function(d){return s(o((a||(a=u(t,e.map(n),ne)))(d)))},c.domain=function(d){return arguments.length?(e=Array.from(d,Rr),f()):e.slice()},c.range=function(d){return arguments.length?(t=Array.from(d),f()):t.slice()},c.rangeRound=function(d){return t=Array.from(d),r=br,f()},c.clamp=function(d){return arguments.length?(s=d?!0:yt,f()):s!==yt},c.interpolate=function(d){return arguments.length?(r=d,f()):r},c.unknown=function(d){return arguments.length?(i=d,c):i},function(d,p){return n=d,o=p,f()}}function Yt(){return uc()(yt,yt)}function Hr(e,t,r,n){var o=dt(e,t,r),i;switch(n=ze(n==null?",f":n),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Nr(o,s))&&(n.precision=i),Fn(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Lr(o,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Ar(o))&&(n.precision=i-(n.type==="%")*2);break}}return Ln(n)}function lc(e){var t=e.domain;return e.ticks=function(r){var n=t();return an(n[0],n[n.length-1],r==null?10:r)},e.tickFormat=function(r,n){var o=t();return Hr(o[0],o[o.length-1],r==null?10:r,n)},e.nice=function(r){r==null&&(r=10);var n=t(),o=0,i=n.length-1,s=n[o],u=n[i],l,a,f=10;for(u<s&&(a=s,s=u,u=a,a=o,o=i,i=a);f-- >0;){if(a=Tt(s,u,r),a===l)return n[o]=s,n[i]=u,t(n);if(a>0)s=Math.floor(s/a)*a,u=Math.ceil(u/a)*a;else if(a<0)s=Math.ceil(s*a)/a,u=Math.floor(u*a)/a;else break;l=a}return e},e}function Vt(){var e=Yt();return e.copy=function(){return zn(e,Vt())},Rn.apply(e,arguments),lc(e)}function Ur(e,t){e=e.slice();var r=0,n=e.length-1,o=e[r],i=e[n],s;return i<o&&(s=r,r=n,n=s,s=o,o=i,i=s),e[r]=t.floor(o),e[n]=t.ceil(i),e}var Wr=new Date,$r=new Date;function q(e,t,r,n){function o(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return o.floor=i=>(e(i=new Date(+i)),i),o.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),o.round=i=>{let s=o(i),u=o.ceil(i);return i-s<u-i?s:u},o.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),o.range=(i,s,u)=>{let l=[];if(i=o.ceil(i),u=u==null?1:Math.floor(u),!(i<s)||!(u>0))return l;let a;do l.push(a=new Date(+i)),t(i,u),e(i);while(a<i&&i<s);return l},o.filter=i=>q(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;t(s,-1),!i(s););else for(;--u>=0;)for(;t(s,1),!i(s););}),r&&(o.count=(i,s)=>(Wr.setTime(+i),$r.setTime(+s),e(Wr),e($r),Math.floor(r(Wr,$r))),o.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?o.filter(n?s=>n(s)%i===0:s=>o.count(0,s)%i===0):o)),o}var qt=q(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);qt.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?q(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):qt);var Ov=qt.range;var Me=q(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*1e3)},(e,t)=>(t-e)/1e3,e=>e.getUTCSeconds()),ja=Me.range;var vt=q(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getMinutes()),cc=vt.range,Hn=q(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getUTCMinutes()),fc=Hn.range;var xt=q(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3-e.getMinutes()*6e4)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getHours()),dc=xt.range,Un=q(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getUTCHours()),pc=Un.range;var Ee=q(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1),mc=Ee.range,Xt=q(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>e.getUTCDate()-1),hc=Xt.range,Wn=q(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>Math.floor(e/864e5)),gc=Wn.range;function rt(e){return q(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5)}var Ie=rt(0),bt=rt(1),Ya=rt(2),Va=rt(3),He=rt(4),qa=rt(5),Ga=rt(6),Xa=Ie.range,yc=bt.range,vc=Ya.range,xc=Va.range,bc=He.range,_c=qa.range,wc=Ga.range;function ot(e){return q(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/6048e5)}var it=ot(0),_t=ot(1),Ka=ot(2),Za=ot(3),Ue=ot(4),Qa=ot(5),Ja=ot(6),es=it.range,Cc=_t.range,Mc=Ka.range,Oc=Za.range,kc=Ue.range,Tc=Qa.range,Sc=Ja.range;var wt=q(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth()),Pc=wt.range,$n=q(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth()),Ec=$n.range;var pe=q(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());pe.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:q(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});var Ic=pe.range,_e=q(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());_e.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:q(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});var Dc=_e.range;function ns(e,t,r,n,o,i){let s=[[Me,1,1e3],[Me,5,5*1e3],[Me,15,15*1e3],[Me,30,30*1e3],[i,1,6e4],[i,5,5*6e4],[i,15,15*6e4],[i,30,30*6e4],[o,1,36e5],[o,3,3*36e5],[o,6,6*36e5],[o,12,12*36e5],[n,1,864e5],[n,2,2*864e5],[r,1,6048e5],[t,1,2592e6],[t,3,3*2592e6],[e,1,31536e6]];function u(a,f,c){let d=f<a;d&&([a,f]=[f,a]);let p=c&&typeof c.range=="function"?c:l(a,f,c),m=p?p.range(a,+f+1):[];return d?m.reverse():m}function l(a,f,c){let d=Math.abs(f-a)/c,p=Ye(([,,h])=>h).right(s,d);if(p===s.length)return e.every(dt(a/31536e6,f/31536e6,c));if(p===0)return qt.every(Math.max(dt(a,f,c),1));let[m,y]=s[d/s[p-1][2]<s[p][2]/d?p-1:p];return m.every(y)}return[u,l]}var[Nc,Lc]=ns(_e,$n,it,Wn,Un,Hn),[jr,Br]=ns(pe,wt,Ie,Ee,xt,vt);function Yr(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Vr(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Kt(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function qr(e){var t=e.dateTime,r=e.date,n=e.time,o=e.periods,i=e.days,s=e.shortDays,u=e.months,l=e.shortMonths,a=Zt(o),f=Qt(o),c=Zt(i),d=Qt(i),p=Zt(s),m=Qt(s),y=Zt(u),h=Qt(u),v=Zt(l),g=Qt(l),x={a:E,A:U,b:H,B:F,c:null,d:us,e:us,f:of,g:hf,G:yf,H:tf,I:nf,j:rf,L:ps,m:af,M:sf,p:W,q:V,Q:fs,s:ds,S:uf,u:lf,U:cf,V:ff,w:df,W:pf,x:null,X:null,y:mf,Y:gf,Z:vf,"%":cs},T={a:X,A:oe,b:$e,B:ie,c:null,d:ls,e:ls,f:wf,g:Df,G:Nf,H:xf,I:bf,j:_f,L:hs,m:Cf,M:Mf,p:Xn,q:Kn,Q:fs,s:ds,S:Of,u:kf,U:Tf,V:Sf,w:Pf,W:Ef,x:null,X:null,y:If,Y:Af,Z:Lf,"%":cs},D={a:A,A:M,b:I,B:O,c:L,d:as,e:as,f:Zc,g:is,G:os,H:ss,I:ss,j:qc,L:Kc,m:Vc,M:Gc,p:S,q:Yc,Q:Jc,s:ef,S:Xc,u:Uc,U:Wc,V:$c,w:Hc,W:jc,x:N,X:P,y:is,Y:os,Z:Bc,"%":Qc};x.x=b(r,x),x.X=b(n,x),x.c=b(t,x),T.x=b(r,T),T.X=b(n,T),T.c=b(t,T);function b(k,z){return function(j){var _=[],ue=-1,G=0,fe=k.length,de,je,Qr;for(j instanceof Date||(j=new Date(+j));++ue<fe;)k.charCodeAt(ue)===37&&(_.push(k.slice(G,ue)),(je=rs[de=k.charAt(++ue)])!=null?de=k.charAt(++ue):je=de==="e"?" ":"0",(Qr=z[de])&&(de=Qr(j,je)),_.push(de),G=ue+1);return _.push(k.slice(G,ue)),_.join("")}}function w(k,z){return function(j){var _=Kt(1900,void 0,1),ue=C(_,k,j+="",0),G,fe;if(ue!=j.length)return null;if("Q"in _)return new Date(_.Q);if("s"in _)return new Date(_.s*1e3+("L"in _?_.L:0));if(z&&!("Z"in _)&&(_.Z=0),"p"in _&&(_.H=_.H%12+_.p*12),_.m===void 0&&(_.m="q"in _?_.q:0),"V"in _){if(_.V<1||_.V>53)return null;"w"in _||(_.w=1),"Z"in _?(G=Vr(Kt(_.y,0,1)),fe=G.getUTCDay(),G=fe>4||fe===0?_t.ceil(G):_t(G),G=Xt.offset(G,(_.V-1)*7),_.y=G.getUTCFullYear(),_.m=G.getUTCMonth(),_.d=G.getUTCDate()+(_.w+6)%7):(G=Yr(Kt(_.y,0,1)),fe=G.getDay(),G=fe>4||fe===0?bt.ceil(G):bt(G),G=Ee.offset(G,(_.V-1)*7),_.y=G.getFullYear(),_.m=G.getMonth(),_.d=G.getDate()+(_.w+6)%7)}else("W"in _||"U"in _)&&("w"in _||(_.w="u"in _?_.u%7:"W"in _?1:0),fe="Z"in _?Vr(Kt(_.y,0,1)).getUTCDay():Yr(Kt(_.y,0,1)).getDay(),_.m=0,_.d="W"in _?(_.w+6)%7+_.W*7-(fe+5)%7:_.w+_.U*7-(fe+6)%7);return"Z"in _?(_.H+=_.Z/100|0,_.M+=_.Z%100,Vr(_)):Yr(_)}}function C(k,z,j,_){for(var ue=0,G=z.length,fe=j.length,de,je;ue<G;){if(_>=fe)return-1;if(de=z.charCodeAt(ue++),de===37){if(de=z.charAt(ue++),je=D[de in rs?z.charAt(ue++):de],!je||(_=je(k,j,_))<0)return-1}else if(de!=j.charCodeAt(_++))return-1}return _}function S(k,z,j){var _=a.exec(z.slice(j));return _?(k.p=f.get(_[0].toLowerCase()),j+_[0].length):-1}function A(k,z,j){var _=p.exec(z.slice(j));return _?(k.w=m.get(_[0].toLowerCase()),j+_[0].length):-1}function M(k,z,j){var _=c.exec(z.slice(j));return _?(k.w=d.get(_[0].toLowerCase()),j+_[0].length):-1}function I(k,z,j){var _=v.exec(z.slice(j));return _?(k.m=g.get(_[0].toLowerCase()),j+_[0].length):-1}function O(k,z,j){var _=y.exec(z.slice(j));return _?(k.m=h.get(_[0].toLowerCase()),j+_[0].length):-1}function L(k,z,j){return C(k,t,z,j)}function N(k,z,j){return C(k,r,z,j)}function P(k,z,j){return C(k,n,z,j)}function E(k){return s[k.getDay()]}function U(k){return i[k.getDay()]}function H(k){return l[k.getMonth()]}function F(k){return u[k.getMonth()]}function W(k){return o[+(k.getHours()>=12)]}function V(k){return 1+~~(k.getMonth()/3)}function X(k){return s[k.getUTCDay()]}function oe(k){return i[k.getUTCDay()]}function $e(k){return l[k.getUTCMonth()]}function ie(k){return u[k.getUTCMonth()]}function Xn(k){return o[+(k.getUTCHours()>=12)]}function Kn(k){return 1+~~(k.getUTCMonth()/3)}return{format:function(k){var z=b(k+="",x);return z.toString=function(){return k},z},parse:function(k){var z=w(k+="",!1);return z.toString=function(){return k},z},utcFormat:function(k){var z=b(k+="",T);return z.toString=function(){return k},z},utcParse:function(k){var z=w(k+="",!0);return z.toString=function(){return k},z}}}var rs={"-":"",_:" ",0:"0"},te=/^\s*\d+/,Fc=/^%/,Rc=/[\\^$*+?|[\]().{}]/g;function B(e,t,r){var n=e<0?"-":"",o=(n?-e:e)+"",i=o.length;return n+(i<r?new Array(r-i+1).join(t)+o:o)}function zc(e){return e.replace(Rc,"\\$&")}function Zt(e){return new RegExp("^(?:"+e.map(zc).join("|")+")","i")}function Qt(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Hc(e,t,r){var n=te.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Uc(e,t,r){var n=te.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Wc(e,t,r){var n=te.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function $c(e,t,r){var n=te.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function jc(e,t,r){var n=te.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function os(e,t,r){var n=te.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function is(e,t,r){var n=te.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Bc(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Yc(e,t,r){var n=te.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Vc(e,t,r){var n=te.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function as(e,t,r){var n=te.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function qc(e,t,r){var n=te.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function ss(e,t,r){var n=te.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Gc(e,t,r){var n=te.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Xc(e,t,r){var n=te.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Kc(e,t,r){var n=te.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Zc(e,t,r){var n=te.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Qc(e,t,r){var n=Fc.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Jc(e,t,r){var n=te.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function ef(e,t,r){var n=te.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function us(e,t){return B(e.getDate(),t,2)}function tf(e,t){return B(e.getHours(),t,2)}function nf(e,t){return B(e.getHours()%12||12,t,2)}function rf(e,t){return B(1+Ee.count(pe(e),e),t,3)}function ps(e,t){return B(e.getMilliseconds(),t,3)}function of(e,t){return ps(e,t)+"000"}function af(e,t){return B(e.getMonth()+1,t,2)}function sf(e,t){return B(e.getMinutes(),t,2)}function uf(e,t){return B(e.getSeconds(),t,2)}function lf(e){var t=e.getDay();return t===0?7:t}function cf(e,t){return B(Ie.count(pe(e)-1,e),t,2)}function ms(e){var t=e.getDay();return t>=4||t===0?He(e):He.ceil(e)}function ff(e,t){return e=ms(e),B(He.count(pe(e),e)+(pe(e).getDay()===4),t,2)}function df(e){return e.getDay()}function pf(e,t){return B(bt.count(pe(e)-1,e),t,2)}function mf(e,t){return B(e.getFullYear()%100,t,2)}function hf(e,t){return e=ms(e),B(e.getFullYear()%100,t,2)}function gf(e,t){return B(e.getFullYear()%1e4,t,4)}function yf(e,t){var r=e.getDay();return e=r>=4||r===0?He(e):He.ceil(e),B(e.getFullYear()%1e4,t,4)}function vf(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+B(t/60|0,"0",2)+B(t%60,"0",2)}function ls(e,t){return B(e.getUTCDate(),t,2)}function xf(e,t){return B(e.getUTCHours(),t,2)}function bf(e,t){return B(e.getUTCHours()%12||12,t,2)}function _f(e,t){return B(1+Xt.count(_e(e),e),t,3)}function hs(e,t){return B(e.getUTCMilliseconds(),t,3)}function wf(e,t){return hs(e,t)+"000"}function Cf(e,t){return B(e.getUTCMonth()+1,t,2)}function Mf(e,t){return B(e.getUTCMinutes(),t,2)}function Of(e,t){return B(e.getUTCSeconds(),t,2)}function kf(e){var t=e.getUTCDay();return t===0?7:t}function Tf(e,t){return B(it.count(_e(e)-1,e),t,2)}function gs(e){var t=e.getUTCDay();return t>=4||t===0?Ue(e):Ue.ceil(e)}function Sf(e,t){return e=gs(e),B(Ue.count(_e(e),e)+(_e(e).getUTCDay()===4),t,2)}function Pf(e){return e.getUTCDay()}function Ef(e,t){return B(_t.count(_e(e)-1,e),t,2)}function If(e,t){return B(e.getUTCFullYear()%100,t,2)}function Df(e,t){return e=gs(e),B(e.getUTCFullYear()%100,t,2)}function Af(e,t){return B(e.getUTCFullYear()%1e4,t,4)}function Nf(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ue(e):Ue.ceil(e),B(e.getUTCFullYear()%1e4,t,4)}function Lf(){return"+0000"}function cs(){return"%"}function fs(e){return+e}function ds(e){return Math.floor(+e/1e3)}var Ct,Mt,ys,vs,xs;Gr({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Gr(e){return Ct=qr(e),Mt=Ct.format,ys=Ct.parse,vs=Ct.utcFormat,xs=Ct.utcParse,Ct}function Ff(e){return new Date(e)}function Rf(e){return e instanceof Date?+e:+new Date(+e)}function bs(e,t,r,n,o,i,s,u,l,a){var f=Yt(),c=f.invert,d=f.domain,p=a(".%L"),m=a(":%S"),y=a("%I:%M"),h=a("%I %p"),v=a("%a %d"),g=a("%b %d"),x=a("%B"),T=a("%Y");function D(b){return(l(b)<b?p:u(b)<b?m:s(b)<b?y:i(b)<b?h:n(b)<b?o(b)<b?v:g:r(b)<b?x:T)(b)}return f.invert=function(b){return new Date(c(b))},f.domain=function(b){return arguments.length?d(Array.from(b,Rf)):d().map(Ff)},f.ticks=function(b){var w=d();return e(w[0],w[w.length-1],b==null?10:b)},f.tickFormat=function(b,w){return w==null?D:a(w)},f.nice=function(b){var w=d();return(!b||typeof b.range!="function")&&(b=t(w[0],w[w.length-1],b==null?10:b)),b?d(Ur(w,b)):f},f.copy=function(){return zn(f,bs(e,t,r,n,o,i,s,u,l,a))},f}function jn(){return Rn.apply(bs(jr,Br,pe,wt,Ie,Ee,xt,vt,Me,Mt).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function J(e){return function(){return e}}function Bn(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{let n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Je(t)}var Mx=Array.prototype.slice;function Yn(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function _s(e){this._context=e}_s.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Vn(e){return new _s(e)}function qn(e){return e[0]}function Gn(e){return e[1]}function Jt(e,t){var r=J(!0),n=null,o=Vn,i=null,s=Bn(u);e=typeof e=="function"?e:e===void 0?qn:J(e),t=typeof t=="function"?t:t===void 0?Gn:J(t);function u(l){var a,f=(l=Yn(l)).length,c,d=!1,p;for(n==null&&(i=o(p=s())),a=0;a<=f;++a)!(a<f&&r(c=l[a],a,l))===d&&((d=!d)?i.lineStart():i.lineEnd()),d&&i.point(+e(c,a,l),+t(c,a,l));if(p)return i=null,p+""||null}return u.x=function(l){return arguments.length?(e=typeof l=="function"?l:J(+l),u):e},u.y=function(l){return arguments.length?(t=typeof l=="function"?l:J(+l),u):t},u.defined=function(l){return arguments.length?(r=typeof l=="function"?l:J(!!l),u):r},u.curve=function(l){return arguments.length?(o=l,n!=null&&(i=o(n)),u):o},u.context=function(l){return arguments.length?(l==null?n=i=null:i=o(n=l),u):n},u}function Xr(e,t,r){var n=null,o=J(!0),i=null,s=Vn,u=null,l=Bn(a);e=typeof e=="function"?e:e===void 0?qn:J(+e),t=typeof t=="function"?t:t===void 0?J(0):J(+t),r=typeof r=="function"?r:r===void 0?Gn:J(+r);function a(c){var d,p,m,y=(c=Yn(c)).length,h,v=!1,g,x=new Array(y),T=new Array(y);for(i==null&&(u=s(g=l())),d=0;d<=y;++d){if(!(d<y&&o(h=c[d],d,c))===v)if(v=!v)p=d,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),m=d-1;m>=p;--m)u.point(x[m],T[m]);u.lineEnd(),u.areaEnd()}v&&(x[d]=+e(h,d,c),T[d]=+t(h,d,c),u.point(n?+n(h,d,c):x[d],r?+r(h,d,c):T[d]))}if(g)return u=null,g+""||null}function f(){return Jt().defined(o).curve(s).context(i)}return a.x=function(c){return arguments.length?(e=typeof c=="function"?c:J(+c),n=null,a):e},a.x0=function(c){return arguments.length?(e=typeof c=="function"?c:J(+c),a):e},a.x1=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:J(+c),a):n},a.y=function(c){return arguments.length?(t=typeof c=="function"?c:J(+c),r=null,a):t},a.y0=function(c){return arguments.length?(t=typeof c=="function"?c:J(+c),a):t},a.y1=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:J(+c),a):r},a.lineX0=a.lineY0=function(){return f().x(e).y(t)},a.lineY1=function(){return f().x(e).y(r)},a.lineX1=function(){return f().x(n).y(t)},a.defined=function(c){return arguments.length?(o=typeof c=="function"?c:J(!!c),a):o},a.curve=function(c){return arguments.length?(s=c,i!=null&&(u=s(i)),a):s},a.context=function(c){return arguments.length?(c==null?i=u=null:u=s(i=c),a):i},a}function We(e,t,r){this.k=e,this.x=t,this.y=r}We.prototype={constructor:We,scale:function(e){return e===1?this:new We(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new We(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Kr=new We(1,0,0);Zr.prototype=We.prototype;function Zr(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Kr;return e.__zoom}var Hf=["chart"],Uf=(()=>{let t=class t{constructor(){this.data=[{date:new Date(2025,4),value:84},{date:new Date(2025,6),value:89},{date:new Date(2025,8),value:87},{date:new Date(2025,11),value:95}],this.config={},this.destroy$=new Qn,this.resize$=new Qn,this.svg=null,this.resizeObserver=null,this.defaultConfig={margin:{top:20,right:20,bottom:50,left:50},minValue:80,maxValue:100,ticks:5,strokeWidth:2}}ngAfterViewInit(){this.setupResizeHandler(),this.setupResizeObserver(),requestAnimationFrame(()=>{this.createChart()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.cleanupResizeObserver()}onWindowResize(){this.resize$.next()}setupResizeHandler(){this.resize$.pipe(Jr(150),eo(this.destroy$)).subscribe(()=>{this.createChart()})}setupResizeObserver(){typeof ResizeObserver<"u"&&this.chartContainer&&(this.resizeObserver=new ResizeObserver(()=>{this.resize$.next()}),this.resizeObserver.observe(this.chartContainer.nativeElement))}cleanupResizeObserver(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}getConfig(){return Zn(Zn({},this.defaultConfig),this.config)}getDimensions(){let n=this.chartContainer.nativeElement,o=n.parentElement,i=n.clientWidth,s=n.clientHeight;(i===0||i<100)&&o&&(i=o.clientWidth),(s===0||s<100)&&o&&(s=o.clientHeight),i=i||350,s=s||200;let u=this.getConfig();return{width:Math.max(i-u.margin.left-u.margin.right,100),height:Math.max(s-u.margin.top-u.margin.bottom,100)}}createChart(){let n=this.chartContainer.nativeElement;if(!n||!this.data.length)return;let o=this.getConfig(),{width:i,height:s}=this.getDimensions();if(i<=0||s<=0)return;let u=getComputedStyle(document.body),l=u.getPropertyValue("--ion-text-color").trim()||"#000",a=u.getPropertyValue("--ion-color-primary").trim()||"#3880ff",f=l,c=l;n.innerHTML="",this.svg=mr(n).append("svg").attr("width",i+o.margin.left+o.margin.right).attr("height",s+o.margin.top+o.margin.bottom).append("g").attr("transform",`translate(${o.margin.left},${o.margin.top})`);let d=jn().domain(rn(this.data,h=>h.date)).range([0,i]),p=Vt().domain([o.minValue,o.maxValue]).range([s,0]),m=Jt().x(h=>d(h.date)).y(h=>p(h.value)),y=Xr().x(h=>d(h.date)).y0(s).y1(h=>p(h.value));this.createGradient(a),this.renderArea(y),this.renderAxes(d,p,i,s,l,f,o),this.renderAxisLabels(i,s,o,l),this.renderLine(m,a,o),this.renderHorizontalLines(p,i,s,c,o)}createGradient(n){if(!this.svg)return;let i=this.svg.append("defs").append("linearGradient").attr("id","line-gradient").attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%");i.append("stop").attr("offset","0%").attr("stop-color",n).attr("stop-opacity",.3),i.append("stop").attr("offset","100%").attr("stop-color",n).attr("stop-opacity",0)}renderArea(n){this.svg&&this.svg.append("path").datum(this.data).attr("d",n).attr("fill","url(#line-gradient)")}renderAxes(n,o,i,s,u,l,a){if(!this.svg)return;let f=sr(n).ticks(4).tickFormat(Mt("%b")),c=this.svg.append("g").attr("transform",`translate(0,${s})`).call(f);c.selectAll("text").style("fill",u),c.selectAll("path, line").attr("stroke",l).attr("stroke-opacity",.4);let d=ur(o).ticks(a.ticks),p=this.svg.append("g").call(d);p.selectAll("text").style("fill",u),p.select(".domain").style("display","none"),p.selectAll("line").attr("stroke",l).attr("stroke-opacity",.4)}renderAxisLabels(n,o,i,s){this.svg&&(this.svg.append("text").attr("x",n/2).attr("y",o+i.margin.bottom-10).attr("text-anchor","middle").attr("fill",s).attr("font-size","12px").text("Month"),this.svg.append("text").attr("x",-o/2).attr("y",-i.margin.left+15).attr("transform","rotate(-90)").attr("text-anchor","middle").attr("fill",s).attr("font-size","12px").text("Value"))}renderLine(n,o,i){this.svg&&this.svg.append("path").datum(this.data).attr("d",n).attr("stroke",o).attr("fill","none").attr("stroke-width",i.strokeWidth)}renderHorizontalLines(n,o,i,s,u){if(!this.svg)return;n.ticks(u.ticks).forEach(a=>{this.svg.append("line").attr("x1",0).attr("x2",o).attr("y1",n(a)).attr("y2",n(a)).attr("stroke",s).attr("stroke-width",1).attr("stroke-opacity",.4)})}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=me({type:t,selectors:[["app-line-chart"]],viewQuery:function(o,i){if(o&1&&po(Hf,7),o&2){let s;mo(s=ho())&&(i.chartContainer=s.first)}},hostBindings:function(o,i){o&1&&Le("resize",function(){return i.onWindowResize()},!1,io)},inputs:{data:"data",config:"config"},decls:2,vars:0,consts:[["chart",""],[1,"chart-container"]],template:function(o,i){o&1&&Q(0,"div",1,0)},styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%;min-width:300px;min-height:200px;border-radius:8px;background:var(--ion-background-color);color:var(--ion-text-color)}[_nghost-%COMP%]:not([style*=height]){height:250px}.chart-container[_ngcontent-%COMP%]{width:100%;height:100%;min-width:inherit;min-height:inherit;position:relative}svg[_ngcontent-%COMP%]{width:100%;height:100%;display:block;max-width:100%}"],changeDetection:0});let e=t;return e})();export{ks as a,Ts as b,Uf as c,Ls as d,Us as e};

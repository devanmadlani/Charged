import{d as K}from"./chunk-U7ZSAOOR.js";import"./chunk-K5US3PCO.js";import{b as J}from"./chunk-V475BW3B.js";import"./chunk-XLXZIIRO.js";import"./chunk-Z7KG2CFB.js";import{Ca as b,Da as E,E as l,Ea as P,Fa as V,Ga as D,H as x,Ha as v,Ia as N,K as y,M as p,Q as C,Ra as W,T as o,U as r,Ua as B,Va as F,W as h,Wa as q,X as u,Xa as G,Y as d,ca as m,da as w,db as R,ea as T,eb as j,fb as A,ga as k,ha as S,ia as L,lb as H,qa as M,s as f,u as g,v as c,wa as I}from"./chunk-A75ZAIYH.js";import"./chunk-NH6DWOTM.js";import"./chunk-ZNCXPSUT.js";import"./chunk-5EURDHGX.js";import"./chunk-FFGWF3JI.js";import"./chunk-RGI35SJ7.js";import"./chunk-LV4DUEUL.js";import"./chunk-4U6PRYVA.js";import"./chunk-F33KLCOC.js";import"./chunk-JWIEPCRG.js";import"./chunk-C5RQ2IC2.js";import"./chunk-D4VGNZLR.js";import"./chunk-JHLW7V75.js";import"./chunk-SV7S5NYR.js";import{g as z,i as _}from"./chunk-CVT7ZQ5I.js";var O=z(J());function Q(n,a){if(n&1){let i=h();o(0,"form",1),u("ngSubmit",function(){g(i);let t=d();return c(t.sendMagicLink())}),o(1,"ion-item")(2,"ion-label",2),m(3,"Email"),r(),o(4,"ion-input",3),L("ngModelChange",function(t){g(i);let s=d();return S(s.email,t)||(s.email=t),c(t)}),r()(),o(5,"ion-button",4),m(6),r()(),o(7,"app-week-tracker",5),u("dayToggled",function(t){g(i);let s=d();return c(s.onDayToggled(t))}),r()}if(n&2){let i=d();l(4),k("ngModel",i.email),l(),p("disabled",i.isLoading||!i.email),l(),T(" ",i.isLoading?"Sending...":"Send Magic Link"," "),l(),p("data",i.weekTrackerData)}}function U(n,a){if(n&1&&(o(0,"ion-text"),m(1),r()),n&2){let i=d();l(),w(i.message)}}var ae=(()=>{let a=class a{constructor(){this.email="",this.isLoading=!1,this.message="",this.router=f(I),this.weekTrackerData={title:"Morning walk",weeklyGoal:5,currentProgress:3,buildPhase:"Build phase 2/4",iconType:"droplet"}}sendMagicLink(){return _(this,null,function*(){this.isLoading=!0,this.message="";try{let e=yield O.default.createCode({email:this.email});this.message=e.status==="OK"?"Magic link sent! Check your email.":`Error: ${e.status}`}catch(e){console.error("Magic link error:",e),this.message="Something went wrong. Try again."}this.isLoading=!1})}onDayToggled(e){console.log("Day toggled:",e.day),console.log("All days:",e.allDays)}};a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=x({type:a,selectors:[["app-login"]],decls:7,vars:1,consts:[[1,"ion-padding"],[3,"ngSubmit"],["position","floating"],["name","email","type","email","required","",3,"ngModelChange","ngModel"],["expand","full","type","submit",3,"disabled"],[3,"dayToggled","data"]],template:function(t,s){t&1&&(o(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),m(3,"Login"),r()()(),o(4,"ion-content",0),y(5,Q,8,4)(6,U,2,1,"ion-text"),r()),t&2&&(l(5),C(s.message?6:5))},dependencies:[B,F,j,A,H,q,G,W,R,M,N,D,b,E,v,V,P,K],encapsulation:2});let n=a;return n})();export{ae as LoginPage};

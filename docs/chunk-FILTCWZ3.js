import{a as Q}from"./chunk-YSJI6MQE.js";import{a as X,b as Z,c as ee,m as te,p as ie,r as ne,s as oe}from"./chunk-K5US3PCO.js";import{b as le}from"./chunk-ZLN3YZTI.js";import{q as J}from"./chunk-JHCU2F56.js";import{b as q,c as $}from"./chunk-Z7KG2CFB.js";import{C as v,Da as R,E as t,Ea as y,Ga as k,H as A,Ia as w,K as S,M as _,O as T,Q as I,Ra as D,Sa as L,T as n,U as o,Ua as F,V as O,Va as V,W as P,Wa as W,X as h,Xa as z,Y as p,_a as Y,ca as r,da as u,db as H,ea as g,eb as j,fb as K,ka as l,la as c,lb as U,na as b,qa as G,s as N,u as f,v as C,wa as B}from"./chunk-A75ZAIYH.js";import"./chunk-NH6DWOTM.js";import"./chunk-ZNCXPSUT.js";import"./chunk-5EURDHGX.js";import"./chunk-FFGWF3JI.js";import"./chunk-RGI35SJ7.js";import"./chunk-LV4DUEUL.js";import"./chunk-4U6PRYVA.js";import"./chunk-F33KLCOC.js";import"./chunk-JWIEPCRG.js";import"./chunk-C5RQ2IC2.js";import"./chunk-D4VGNZLR.js";import"./chunk-JHLW7V75.js";import"./chunk-SV7S5NYR.js";import{g as ae,i as M}from"./chunk-CVT7ZQ5I.js";var re=ae(le());function ce(e,s){if(e&1){let i=P();n(0,"ion-buttons",0)(1,"ion-button",8),h("click",function(){f(i);let a=p();return C(a.previous())}),O(2,"hugeicons-icon",9),n(3,"span",10),r(4),l(5,"translate"),o()()()}if(e&2){let i=p();t(2),_("icon",i.ArrowLeft01Icon)("size",20)("strokeWidth",1.5),t(2),g(" ",c(5,4,"ONBOARDING_PAGE.BACK")," ")}}function se(e,s){if(e&1&&(n(0,"div",6)(1,"div",11),O(2,"hugeicons-icon",12),o(),n(3,"div",13)(4,"h1",14),r(5),l(6,"translate"),o(),n(7,"div",15)(8,"p"),r(9),l(10,"translate"),o(),n(11,"p"),r(12),l(13,"translate"),o(),n(14,"p"),r(15),l(16,"translate"),o()()()()),e&2){let i=p();t(2),_("icon",i.Sun03Icon)("size",120)("strokeWidth",1.5),t(3),g(" ",c(6,7,"ONBOARDING_PAGE.WELCOME_TITLE")," "),t(4),u(c(10,9,"ONBOARDING_PAGE.WELCOME_DESCRIPTION_1")),t(3),u(c(13,11,"ONBOARDING_PAGE.WELCOME_DESCRIPTION_2")),t(3),u(c(16,13,"ONBOARDING_PAGE.WELCOME_DESCRIPTION_3"))}}function de(e,s){if(e&1&&(n(0,"div",6)(1,"div",11),O(2,"hugeicons-icon",12),o(),n(3,"div",13)(4,"h1",14),r(5),l(6,"translate"),o(),n(7,"div",15)(8,"p"),r(9),l(10,"translate"),o(),n(11,"p"),r(12),l(13,"translate"),o()()()()),e&2){let i=p();t(2),_("icon",i.Sun03Icon)("size",120)("strokeWidth",1.5),t(3),g(" ",c(6,6,"ONBOARDING_PAGE.CHANGE_SYSTEM_TITLE")," "),t(4),u(c(10,8,"ONBOARDING_PAGE.CHANGE_SYSTEM_DESCRIPTION_1")),t(3),u(c(13,10,"ONBOARDING_PAGE.CHANGE_SYSTEM_DESCRIPTION_2"))}}function pe(e,s){if(e&1&&(n(0,"div",6)(1,"div",11),O(2,"hugeicons-icon",12),o(),n(3,"div",13)(4,"h1",14),r(5),l(6,"translate"),o(),n(7,"h2",16),r(8),l(9,"translate"),o()()()),e&2){let i=p();t(2),_("icon",i.Sun03Icon)("size",120)("strokeWidth",1.5),t(3),g(" ",c(6,5,"ONBOARDING_PAGE.REVIEW_TITLE")," "),t(3),g(" ",c(9,7,"ONBOARDING_PAGE.REVIEW_DESCRIPTION_1")," ")}}function me(e,s){if(e&1&&(n(0,"ion-text",19),r(1),o()),e&2){let i=p(2);t(),g(" ",i.emailError()," ")}}function _e(e,s){if(e&1){let i=P();n(0,"div",6)(1,"div",11),O(2,"hugeicons-icon",12),o(),n(3,"div",13)(4,"h1",14),r(5),l(6,"translate"),o(),n(7,"div",15)(8,"p"),r(9),l(10,"translate"),o()(),n(11,"form")(12,"ion-item")(13,"ion-label",17),r(14),l(15,"translate"),o(),n(16,"ion-input",18),h("ionInput",function(a){f(i);let m=p();return C(m.onEmailChange(a.detail.value))}),o()(),S(17,me,2,1,"ion-text",19),o()()()}if(e&2){let i=p();t(2),_("icon",i.Sun03Icon)("size",120)("strokeWidth",1.5),t(3),g(" ",c(6,12,"ONBOARDING_PAGE.EMAIL_TITLE")," "),t(4),u(c(10,14,"ONBOARDING_PAGE.EMAIL_DESCRIPTION_1")),t(3),T("ion-invalid",i.emailError()),t(2),u(c(15,16,"ONBOARDING_PAGE.EMAIL")),t(2),T("ion-invalid",i.emailError()),_("value",i.email()),t(),I(i.emailError()?17:-1)}}function ge(e,s){if(e&1&&(n(0,"div")(1,"div",20),O(2,"app-survey",21),o()()),e&2){let i=p();t(2),_("formId",i.TYPEFORM_FORMS.feedback.id)}}function ue(e,s){if(e&1&&(n(0,"ion-text",22),r(1),o()),e&2){let i=p(2);_("color",i.message().includes("Error")?"danger":"success"),t(),g(" ",i.message()," ")}}function xe(e,s){if(e&1){let i=P();n(0,"div",6)(1,"div",11),O(2,"hugeicons-icon",12),o(),n(3,"div",13)(4,"h1",14),r(5),l(6,"translate"),o(),n(7,"div",15)(8,"p"),r(9),l(10,"translate"),o()()()(),S(11,ue,2,2,"ion-text",22),n(12,"ion-button",23),h("click",function(){f(i);let a=p();return C(a.sendMagicLink())}),r(13),o()}if(e&2){let i=p();t(2),_("icon",i.Sun03Icon)("size",120)("strokeWidth",1.5),t(3),g(" ",c(6,8,"ONBOARDING_PAGE.WELCOME_TITLE")," "),t(4),u(c(10,10,"ONBOARDING_PAGE.WELCOME_DESCRIPTION_1")),t(2),I(i.message()?11:-1),t(),_("disabled",i.isLoading()),t(),g(" ",i.isLoading()?"Sending...":"Send Magic Link"," ")}}function Oe(e,s){e&1&&r(0," Finish ")}function Ee(e,s){e&1&&r(0," Continue ")}function Ie(e,s){if(e&1){let i=P();n(0,"div",7)(1,"ion-button",23),h("click",function(){f(i);let a=p();return C(a.next())}),S(2,Oe,1,0)(3,Ee,1,0),o(),n(4,"ion-button",24),h("click",function(){f(i);let a=p();return C(a.login())}),r(5),l(6,"translate"),o()()}if(e&2){let i=p();t(),_("disabled",!i.canProceed()),t(),I(i.currentStep()===i.OnboardingStep.Final?2:3),t(3),g(" ",c(6,3,"ONBOARDING_PAGE.SKIP")," ")}}var x=function(e){return e.One="first",e.Two="second",e.Three="third",e.Email="email",e.Four="fourth",e.Final="last",e}(x||{}),ye=(()=>{let s=class s{constructor(){this.OnboardingStep=x,this.currentStep=v(x.One),this.TYPEFORM_FORMS=J,this.AiScanIcon=Z,this.Tick01Icon=oe,this.ArrowLeft01Icon=ee,this.Search02Icon=ie,this.MailAccount01Icon=te,this.Sun03Icon=ne,this.email=v(""),this.message=v(""),this.isLoading=v(!1),this.emailError=v(""),this.stepsOrder=[x.One,x.Two,x.Three,x.Email,x.Four,x.Final],this.currentStepIndex=b(()=>this.stepsOrder.indexOf(this.currentStep())),this.progress=b(()=>(this.currentStepIndex()+1)/this.stepsOrder.length),this.canProceed=b(()=>this.currentStep()===x.Email?this.email()&&!this.emailError():!0),this.router=N(B)}next(){this.currentStepIndex()<this.stepsOrder.length-1?this.currentStep.set(this.stepsOrder[this.currentStepIndex()+1]):this.router.navigate(["/login"])}previous(){this.currentStepIndex()>0&&this.currentStep.set(this.stepsOrder[this.currentStepIndex()-1])}login(){this.router.navigate(["/login"])}validateEmail(d){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d)}onEmailChange(d){this.email.set(d),this.emailError.set(""),d&&!this.validateEmail(d)&&this.emailError.set("Please enter a valid email address")}sendMagicLink(){return M(this,null,function*(){let d=this.email();if(!d){this.emailError.set("Email is required");return}if(!this.validateEmail(d)){this.emailError.set("Please enter a valid email address");return}this.isLoading.set(!0),this.message.set(""),this.emailError.set("");try{let a=yield re.default.createCode({email:d});a.status==="OK"?this.message.set("Magic link sent! Check your email."):a.status==="SIGN_IN_UP_NOT_ALLOWED"?this.message.set("Error: Sign up is not allowed for this email."):this.message.set(`Error: ${a.status}`)}catch(a){console.error("Magic link error:",a),this.message.set("Something went wrong. Please try again.")}finally{this.isLoading.set(!1)}})}};s.\u0275fac=function(a){return new(a||s)},s.\u0275cmp=A({type:s,selectors:[["app-onboarding"]],decls:20,vars:10,consts:[["slot","start"],["slot","end"],["fill","clear","color","primary",3,"click"],[3,"value"],["fullscreen","true",1,"onboarding-content"],[1,"onboarding-container"],[1,"onboarding-step"],[1,"bottom-section"],["fill","clear","color","primary",1,"icon-button",3,"click"],["color","currentColor",1,"hugeicon-inline",3,"icon","size","strokeWidth"],[1,"button-label"],[1,"icon-section"],["color","currentColor",1,"main-icon",3,"icon","size","strokeWidth"],[1,"content-section"],[1,"main-title"],[1,"description-text"],[1,"subtitle"],["position","floating"],["name","email","type","email","required","",3,"ionInput","value"],["color","danger",1,"error-text"],[1,"centered"],[3,"formId"],[3,"color"],["expand","block","shape","round",1,"rounded-button",3,"click","disabled"],["fill","clear",1,"later-button",3,"click"]],template:function(a,m){if(a&1&&(n(0,"ion-header")(1,"ion-toolbar"),S(2,ce,6,6,"ion-buttons",0),n(3,"ion-title"),r(4),l(5,"translate"),o(),n(6,"ion-buttons",1)(7,"ion-button",2),h("click",function(){return m.login()}),r(8),l(9,"translate"),o()()(),O(10,"ion-progress-bar",3),o(),n(11,"ion-content",4)(12,"div",5),S(13,se,17,15,"div",6)(14,de,14,12,"div",6)(15,pe,10,9,"div",6)(16,_e,18,18,"div",6)(17,ge,3,1,"div")(18,xe,14,12)(19,Ie,7,5,"div",7),o()()),a&2){let E;t(2),I(m.currentStepIndex()>0?2:-1),t(2),u(c(5,6,"ONBOARDING_PAGE.START_YOUR_JOURNEY")),t(4),g(" ",c(9,8,"ONBOARDING_PAGE.LOGIN")," "),t(2),_("value",m.progress()),t(3),I((E=m.currentStep())===m.OnboardingStep.One?13:E===m.OnboardingStep.Two?14:E===m.OnboardingStep.Three?15:E===m.OnboardingStep.Email?16:E===m.OnboardingStep.Four?17:E===m.OnboardingStep.Final?18:-1),t(6),I(m.currentStep()!==m.OnboardingStep.Final?19:-1)}},dependencies:[H,W,z,D,Y,L,F,V,j,K,G,w,k,R,y,$,q,Q,U,X],styles:[".onboarding-content[_ngcontent-%COMP%]{--background: #ffffff;text-align:center}.onboarding-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;min-height:calc(100vh - 56px);padding:20px}.onboarding-step[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center;padding-top:40px}.icon-section[_ngcontent-%COMP%]{flex:0 0 auto;margin-bottom:40px}.icon-section[_ngcontent-%COMP%]   .main-icon[_ngcontent-%COMP%]{color:#333;margin:0 auto;display:block}.content-section[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;max-width:100%;width:100%}.content-section[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#333;margin:0 0 16px;line-height:1.2}.content-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:16px;font-weight:400;color:#666;margin:0 0 32px;line-height:1.4}.content-section[_ngcontent-%COMP%]   .description-text[_ngcontent-%COMP%]{text-align:left;margin:0 auto;max-width:100%}.content-section[_ngcontent-%COMP%]   .description-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#666;line-height:1.5;margin-bottom:16px}.content-section[_ngcontent-%COMP%]   .description-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.bottom-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;margin-top:auto;padding-top:20px}.bottom-section[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-size:16px}.bottom-section[_ngcontent-%COMP%]   .later-button[_ngcontent-%COMP%]{text-decoration:underline;color:var(--ion-color-primary)}.rounded-button[_ngcontent-%COMP%]{--border-radius: 12px;height:56px;font-size:18px;font-weight:600}.error-text[_ngcontent-%COMP%]{font-size:12px;margin-top:4px;padding-left:16px}"]});let e=s;return e})();export{ye as OnboardingPage,x as OnboardingStep};
